!function(){var t,e,r,n={1457:function(t,e,r){r(4553);var n=r(2649);t.exports=n("Array","findIndex")},4794:function(t,e,r){r(9826);var n=r(2649);t.exports=n("Array","find")},817:function(t,e,r){r(9554);var n=r(2649);t.exports=n("Array","forEach")},4370:function(t,e,r){r(8783),r(1038);var n=r(857);t.exports=n.Array.from},3462:function(t,e,r){r(6699);var n=r(2649);t.exports=n("Array","includes")},3993:function(t,e,r){r(4048);var n=r(857);t.exports=n.Number.isNaN},9116:function(t,e,r){r(9601);var n=r(857);t.exports=n.Object.assign},7633:function(t,e,r){r(1539),r(8783),r(3948),r(8674),r(7922),r(7727);var n=r(857);t.exports=n.Promise},4533:function(t,e,r){r(2023);var n=r(2649);t.exports=n("String","includes")},3099:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:function(t,e,r){var n=r(111);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1223:function(t,e,r){var n=r(5112),o=r(30),i=r(3070),a=n("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),t.exports=function(t){s[a][t]=!0}},5787:function(t){t.exports=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t}},9670:function(t,e,r){var n=r(111);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},8533:function(t,e,r){"use strict";var n=r(2092).forEach,o=r(9341),i=r(9207),a=o("forEach"),s=i("forEach");t.exports=a&&s?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},8457:function(t,e,r){"use strict";var n=r(9974),o=r(7908),i=r(3411),a=r(7659),s=r(7466),c=r(6135),u=r(1246);t.exports=function(t){var e,r,l,f,p,d,y=o(t),v="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,m=void 0!==g,_=u(y),b=0;if(m&&(g=n(g,h>2?arguments[2]:void 0,2)),null==_||v==Array&&a(_))for(r=new v(e=s(y.length));e>b;b++)d=m?g(y[b],b):y[b],c(r,b,d);else for(p=(f=_.call(y)).next,r=new v;!(l=p.call(f)).done;b++)d=m?i(f,g,[l.value,b],!0):l.value,c(r,b,d);return r.length=b,r}},1318:function(t,e,r){var n=r(5656),o=r(7466),i=r(1400),a=function(t){return function(e,r,a){var s,c=n(e),u=o(c.length),l=i(a,u);if(t&&r!=r){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2092:function(t,e,r){var n=r(9974),o=r(8361),i=r(7908),a=r(7466),s=r(5417),c=[].push,u=function(t){var e=1==t,r=2==t,u=3==t,l=4==t,f=6==t,p=5==t||f;return function(d,y,v,h){for(var g,m,_=i(d),b=o(_),w=n(y,v,3),P=a(b.length),A=0,S=h||s,T=e?S(d,P):r?S(d,0):void 0;P>A;A++)if((p||A in b)&&(m=w(g=b[A],A,_),t))if(e)T[A]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return A;case 2:c.call(T,g)}else if(l)return!1;return f?-1:u||l?l:T}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},9341:function(t,e,r){"use strict";var n=r(7293);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},9207:function(t,e,r){var n=r(9781),o=r(7293),i=r(6656),a=Object.defineProperty,s={},c=function(t){throw t};t.exports=function(t,e){if(i(s,t))return s[t];e||(e={});var r=[][t],u=!!i(e,"ACCESSORS")&&e.ACCESSORS,l=i(e,0)?e[0]:c,f=i(e,1)?e[1]:void 0;return s[t]=!!r&&!o((function(){if(u&&!n)return!0;var t={length:-1};u?a(t,1,{enumerable:!0,get:c}):t[1]=1,r.call(t,l,f)}))}},5417:function(t,e,r){var n=r(111),o=r(3157),i=r(5112)("species");t.exports=function(t,e){var r;return o(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!o(r.prototype)?n(r)&&null===(r=r[i])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},3411:function(t,e,r){var n=r(9670);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&n(i.call(t)),e}}},7072:function(t,e,r){var n=r(5112)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},t(i)}catch(t){}return r}},4326:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:function(t,e,r){var n=r(1694),o=r(4326),i=r(5112)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=n?o:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?r:a?o(e):"Object"==(n=o(e))&&"function"==typeof e.callee?"Arguments":n}},9920:function(t,e,r){var n=r(6656),o=r(3887),i=r(1236),a=r(3070);t.exports=function(t,e){for(var r=o(e),s=a.f,c=i.f,u=0;u<r.length;u++){var l=r[u];n(t,l)||s(t,l,c(e,l))}}},4964:function(t,e,r){var n=r(5112)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},8544:function(t,e,r){var n=r(7293);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:function(t,e,r){"use strict";var n=r(3383).IteratorPrototype,o=r(30),i=r(9114),a=r(8003),s=r(7497),c=function(){return this};t.exports=function(t,e,r){var u=e+" Iterator";return t.prototype=o(n,{next:i(1,r)}),a(t,u,!1,!0),s[u]=c,t}},8880:function(t,e,r){var n=r(9781),o=r(3070),i=r(9114);t.exports=n?function(t,e,r){return o.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:function(t,e,r){"use strict";var n=r(7593),o=r(3070),i=r(9114);t.exports=function(t,e,r){var a=n(e);a in t?o.f(t,a,i(0,r)):t[a]=r}},654:function(t,e,r){"use strict";var n=r(2109),o=r(4994),i=r(9518),a=r(7674),s=r(8003),c=r(8880),u=r(1320),l=r(5112),f=r(1913),p=r(7497),d=r(3383),y=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,h=l("iterator"),g="keys",m="values",_="entries",b=function(){return this};t.exports=function(t,e,r,l,d,w,P){o(r,e,l);var A,S,T,O=function(t){if(t===d&&q)return q;if(!v&&t in I)return I[t];switch(t){case g:case m:case _:return function(){return new r(this,t)}}return function(){return new r(this)}},x=e+" Iterator",E=!1,I=t.prototype,k=I[h]||I["@@iterator"]||d&&I[d],q=!v&&k||O(d),C="Array"==e&&I.entries||k;if(C&&(A=i(C.call(new t)),y!==Object.prototype&&A.next&&(f||i(A)===y||(a?a(A,y):"function"!=typeof A[h]&&c(A,h,b)),s(A,x,!0,!0),f&&(p[x]=b))),d==m&&k&&k.name!==m&&(E=!0,q=function(){return k.call(this)}),f&&!P||I[h]===q||c(I,h,q),p[e]=q,d)if(S={values:O(m),keys:w?q:O(g),entries:O(_)},P)for(T in S)(v||E||!(T in I))&&u(I,T,S[T]);else n({target:e,proto:!0,forced:v||E},S);return S}},9781:function(t,e,r){var n=r(7293);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,r){var n=r(7854),o=r(111),i=n.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},6833:function(t,e,r){var n=r(8113);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},8113:function(t,e,r){var n=r(5005);t.exports=n("navigator","userAgent")||""},7392:function(t,e,r){var n,o,i=r(7854),a=r(8113),s=i.process,c=s&&s.versions,u=c&&c.v8;u?o=(n=u.split("."))[0]+n[1]:a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=n[1]),t.exports=o&&+o},2649:function(t,e,r){var n=r(7854),o=r(9974),i=Function.call;t.exports=function(t,e,r){return o(i,n[t].prototype[e],r)}},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,r){var n=r(7854),o=r(1236).f,i=r(8880),a=r(1320),s=r(3505),c=r(9920),u=r(4705);t.exports=function(t,e){var r,l,f,p,d,y=t.target,v=t.global,h=t.stat;if(r=v?n:h?n[y]||s(y,{}):(n[y]||{}).prototype)for(l in e){if(p=e[l],f=t.noTargetGet?(d=o(r,l))&&d.value:r[l],!u(v?l:y+(h?".":"#")+l,t.forced)&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(t.sham||f&&f.sham)&&i(p,"sham",!0),a(r,l,p,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},9974:function(t,e,r){var n=r(3099);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}}},5005:function(t,e,r){var n=r(857),o=r(7854),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(n[t])||i(o[t]):n[t]&&n[t][e]||o[t]&&o[t][e]}},1246:function(t,e,r){var n=r(648),o=r(7497),i=r(5112)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[n(t)]}},7854:function(t,e,r){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||Function("return this")()},6656:function(t){var e={}.hasOwnProperty;t.exports=function(t,r){return e.call(t,r)}},3501:function(t){t.exports={}},842:function(t,e,r){var n=r(7854);t.exports=function(t,e){var r=n.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}},490:function(t,e,r){var n=r(5005);t.exports=n("document","documentElement")},4664:function(t,e,r){var n=r(9781),o=r(7293),i=r(317);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,r){var n=r(7293),o=r(4326),i="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},2788:function(t,e,r){var n=r(5465),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return o.call(t)}),t.exports=n.inspectSource},9909:function(t,e,r){var n,o,i,a=r(8536),s=r(7854),c=r(111),u=r(8880),l=r(6656),f=r(6200),p=r(3501),d=s.WeakMap;if(a){var y=new d,v=y.get,h=y.has,g=y.set;n=function(t,e){return g.call(y,t,e),e},o=function(t){return v.call(y,t)||{}},i=function(t){return h.call(y,t)}}else{var m=f("state");p[m]=!0,n=function(t,e){return u(t,m,e),e},o=function(t){return l(t,m)?t[m]:{}},i=function(t){return l(t,m)}}t.exports={set:n,get:o,has:i,enforce:function(t){return i(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},7659:function(t,e,r){var n=r(5112),o=r(7497),i=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},3157:function(t,e,r){var n=r(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},4705:function(t,e,r){var n=r(7293),o=/#|\.prototype\./,i=function(t,e){var r=s[a(t)];return r==u||r!=c&&("function"==typeof e?n(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},s=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";t.exports=i},111:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:function(t){t.exports=!1},7850:function(t,e,r){var n=r(111),o=r(4326),i=r(5112)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},408:function(t,e,r){var n=r(9670),o=r(7659),i=r(7466),a=r(9974),s=r(1246),c=r(3411),u=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,r,l,f){var p,d,y,v,h,g,m,_=a(e,r,l?2:1);if(f)p=t;else{if("function"!=typeof(d=s(t)))throw TypeError("Target is not iterable");if(o(d)){for(y=0,v=i(t.length);v>y;y++)if((h=l?_(n(m=t[y])[0],m[1]):_(t[y]))&&h instanceof u)return h;return new u(!1)}p=d.call(t)}for(g=p.next;!(m=g.call(p)).done;)if("object"==typeof(h=c(p,_,m.value,l))&&h&&h instanceof u)return h;return new u(!1)}).stop=function(t){return new u(!0,t)}},3383:function(t,e,r){"use strict";var n,o,i,a=r(9518),s=r(8880),c=r(6656),u=r(5112),l=r(1913),f=u("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(n=o):p=!0),null==n&&(n={}),l||c(n,f)||s(n,f,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},7497:function(t){t.exports={}},5948:function(t,e,r){var n,o,i,a,s,c,u,l,f=r(7854),p=r(1236).f,d=r(4326),y=r(261).set,v=r(6833),h=f.MutationObserver||f.WebKitMutationObserver,g=f.process,m=f.Promise,_="process"==d(g),b=p(f,"queueMicrotask"),w=b&&b.value;w||(n=function(){var t,e;for(_&&(t=g.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?a():i=void 0,t}}i=void 0,t&&t.enter()},_?a=function(){g.nextTick(n)}:h&&!v?(s=!0,c=document.createTextNode(""),new h(n).observe(c,{characterData:!0}),a=function(){c.data=s=!s}):m&&m.resolve?(u=m.resolve(void 0),l=u.then,a=function(){l.call(u,n)}):a=function(){y.call(f,n)}),t.exports=w||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},3366:function(t,e,r){var n=r(7854);t.exports=n.Promise},133:function(t,e,r){var n=r(7293);t.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},8536:function(t,e,r){var n=r(7854),o=r(2788),i=n.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},8523:function(t,e,r){"use strict";var n=r(3099),o=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new o(t)}},3929:function(t,e,r){var n=r(7850);t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},1574:function(t,e,r){"use strict";var n=r(9781),o=r(7293),i=r(1956),a=r(5181),s=r(5296),c=r(7908),u=r(8361),l=Object.assign,f=Object.defineProperty;t.exports=!l||o((function(){if(n&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol(),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach((function(t){e[t]=t})),7!=l({},t)[r]||i(l({},e)).join("")!=o}))?function(t,e){for(var r=c(t),o=arguments.length,l=1,f=a.f,p=s.f;o>l;)for(var d,y=u(arguments[l++]),v=f?i(y).concat(f(y)):i(y),h=v.length,g=0;h>g;)d=v[g++],n&&!p.call(y,d)||(r[d]=y[d]);return r}:l},30:function(t,e,r){var n,o=r(9670),i=r(6048),a=r(748),s=r(3501),c=r(490),u=r(317),l=r(6200)("IE_PROTO"),f=function(){},p=function(t){return"<script>"+t+"<\/script>"},d=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;d=n?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(n):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var r=a.length;r--;)delete d.prototype[a[r]];return d()};s[l]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(f.prototype=o(t),r=new f,f.prototype=null,r[l]=t):r=d(),void 0===e?r:i(r,e)}},6048:function(t,e,r){var n=r(9781),o=r(3070),i=r(9670),a=r(1956);t.exports=n?Object.defineProperties:function(t,e){i(t);for(var r,n=a(e),s=n.length,c=0;s>c;)o.f(t,r=n[c++],e[r]);return t}},3070:function(t,e,r){var n=r(9781),o=r(4664),i=r(9670),a=r(7593),s=Object.defineProperty;e.f=n?s:function(t,e,r){if(i(t),e=a(e,!0),i(r),o)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},1236:function(t,e,r){var n=r(9781),o=r(5296),i=r(9114),a=r(5656),s=r(7593),c=r(6656),u=r(4664),l=Object.getOwnPropertyDescriptor;e.f=n?l:function(t,e){if(t=a(t),e=s(e,!0),u)try{return l(t,e)}catch(t){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},8006:function(t,e,r){var n=r(6324),o=r(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,r){var n=r(6656),o=r(7908),i=r(6200),a=r(8544),s=i("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},6324:function(t,e,r){var n=r(6656),o=r(5656),i=r(1318).indexOf,a=r(3501);t.exports=function(t,e){var r,s=o(t),c=0,u=[];for(r in s)!n(a,r)&&n(s,r)&&u.push(r);for(;e.length>c;)n(s,r=e[c++])&&(~i(u,r)||u.push(r));return u}},1956:function(t,e,r){var n=r(6324),o=r(748);t.exports=Object.keys||function(t){return n(t,o)}},5296:function(t,e){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},7674:function(t,e,r){var n=r(9670),o=r(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,i){return n(r),o(i),e?t.call(r,i):r.__proto__=i,r}}():void 0)},288:function(t,e,r){"use strict";var n=r(1694),o=r(648);t.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},3887:function(t,e,r){var n=r(5005),o=r(8006),i=r(5181),a=r(9670);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(a(t)),r=i.f;return r?e.concat(r(t)):e}},857:function(t,e,r){var n=r(7854);t.exports=n},2534:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},9478:function(t,e,r){var n=r(9670),o=r(111),i=r(8523);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var r=i.f(t);return(0,r.resolve)(e),r.promise}},2248:function(t,e,r){var n=r(1320);t.exports=function(t,e,r){for(var o in e)n(t,o,e[o],r);return t}},1320:function(t,e,r){var n=r(7854),o=r(8880),i=r(6656),a=r(3505),s=r(2788),c=r(9909),u=c.get,l=c.enforce,f=String(String).split("String");(t.exports=function(t,e,r,s){var c=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof e||i(r,"name")||o(r,"name",e),l(r).source=f.join("string"==typeof e?e:"")),t!==n?(c?!p&&t[e]&&(u=!0):delete t[e],u?t[e]=r:o(t,e,r)):u?t[e]=r:a(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},4488:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:function(t,e,r){var n=r(7854),o=r(8880);t.exports=function(t,e){try{o(n,t,e)}catch(r){n[t]=e}return e}},6340:function(t,e,r){"use strict";var n=r(5005),o=r(3070),i=r(5112),a=r(9781),s=i("species");t.exports=function(t){var e=n(t),r=o.f;a&&e&&!e[s]&&r(e,s,{configurable:!0,get:function(){return this}})}},8003:function(t,e,r){var n=r(3070).f,o=r(6656),i=r(5112)("toStringTag");t.exports=function(t,e,r){t&&!o(t=r?t:t.prototype,i)&&n(t,i,{configurable:!0,value:e})}},6200:function(t,e,r){var n=r(2309),o=r(9711),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5465:function(t,e,r){var n=r(7854),o=r(3505),i="__core-js_shared__",a=n[i]||o(i,{});t.exports=a},2309:function(t,e,r){var n=r(1913),o=r(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},6707:function(t,e,r){var n=r(9670),o=r(3099),i=r(5112)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||null==(r=n(a)[i])?e:o(r)}},8710:function(t,e,r){var n=r(9958),o=r(4488),i=function(t){return function(e,r){var i,a,s=String(o(e)),c=n(r),u=s.length;return c<0||c>=u?t?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):i:t?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},261:function(t,e,r){var n,o,i,a=r(7854),s=r(7293),c=r(4326),u=r(9974),l=r(490),f=r(317),p=r(6833),d=a.location,y=a.setImmediate,v=a.clearImmediate,h=a.process,g=a.MessageChannel,m=a.Dispatch,_=0,b={},w=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},P=function(t){return function(){w(t)}},A=function(t){w(t.data)},S=function(t){a.postMessage(t+"",d.protocol+"//"+d.host)};y&&v||(y=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return b[++_]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},n(_),_},v=function(t){delete b[t]},"process"==c(h)?n=function(t){h.nextTick(P(t))}:m&&m.now?n=function(t){m.now(P(t))}:g&&!p?(i=(o=new g).port2,o.port1.onmessage=A,n=u(i.postMessage,i,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(S)||"file:"===d.protocol?n="onreadystatechange"in f("script")?function(t){l.appendChild(f("script")).onreadystatechange=function(){l.removeChild(this),w(t)}}:function(t){setTimeout(P(t),0)}:(n=S,a.addEventListener("message",A,!1))),t.exports={set:y,clear:v}},1400:function(t,e,r){var n=r(9958),o=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):i(r,e)}},5656:function(t,e,r){var n=r(8361),o=r(4488);t.exports=function(t){return n(o(t))}},9958:function(t){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},7466:function(t,e,r){var n=r(9958),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},7908:function(t,e,r){var n=r(4488);t.exports=function(t){return Object(n(t))}},7593:function(t,e,r){var n=r(111);t.exports=function(t,e){if(!n(t))return t;var r,o;if(e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!n(o=r.call(t)))return o;if(!e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},1694:function(t,e,r){var n={};n[r(5112)("toStringTag")]="z",t.exports="[object z]"===String(n)},9711:function(t){var e=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+r).toString(36)}},3307:function(t,e,r){var n=r(133);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:function(t,e,r){var n=r(7854),o=r(2309),i=r(6656),a=r(9711),s=r(133),c=r(3307),u=o("wks"),l=n.Symbol,f=c?l:l&&l.withoutSetter||a;t.exports=function(t){return i(u,t)||(s&&i(l,t)?u[t]=l[t]:u[t]=f("Symbol."+t)),u[t]}},4553:function(t,e,r){"use strict";var n=r(2109),o=r(2092).findIndex,i=r(1223),a=r(9207),s="findIndex",c=!0,u=a(s);s in[]&&Array(1).findIndex((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!u},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(s)},9826:function(t,e,r){"use strict";var n=r(2109),o=r(2092).find,i=r(1223),a=r(9207),s="find",c=!0,u=a(s);s in[]&&Array(1).find((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!u},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(s)},9554:function(t,e,r){"use strict";var n=r(2109),o=r(8533);n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},1038:function(t,e,r){var n=r(2109),o=r(8457);n({target:"Array",stat:!0,forced:!r(7072)((function(t){Array.from(t)}))},{from:o})},6699:function(t,e,r){"use strict";var n=r(2109),o=r(1318).includes,i=r(1223);n({target:"Array",proto:!0,forced:!r(9207)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},6992:function(t,e,r){"use strict";var n=r(5656),o=r(1223),i=r(7497),a=r(9909),s=r(654),c="Array Iterator",u=a.set,l=a.getterFor(c);t.exports=s(Array,"Array",(function(t,e){u(this,{type:c,target:n(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},4048:function(t,e,r){r(2109)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},9601:function(t,e,r){var n=r(2109),o=r(1574);n({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},1539:function(t,e,r){var n=r(1694),o=r(1320),i=r(288);n||o(Object.prototype,"toString",i,{unsafe:!0})},7922:function(t,e,r){"use strict";var n=r(2109),o=r(3099),i=r(8523),a=r(2534),s=r(408);n({target:"Promise",stat:!0},{allSettled:function(t){var e=this,r=i.f(e),n=r.resolve,c=r.reject,u=a((function(){var r=o(e.resolve),i=[],a=0,c=1;s(t,(function(t){var o=a++,s=!1;i.push(void 0),c++,r.call(e,t).then((function(t){s||(s=!0,i[o]={status:"fulfilled",value:t},--c||n(i))}),(function(t){s||(s=!0,i[o]={status:"rejected",reason:t},--c||n(i))}))})),--c||n(i)}));return u.error&&c(u.value),r.promise}})},7727:function(t,e,r){"use strict";var n=r(2109),o=r(1913),i=r(3366),a=r(7293),s=r(5005),c=r(6707),u=r(9478),l=r(1320);n({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,s("Promise")),r="function"==typeof t;return this.then(r?function(r){return u(e,t()).then((function(){return r}))}:t,r?function(r){return u(e,t()).then((function(){throw r}))}:t)}}),o||"function"!=typeof i||i.prototype.finally||l(i.prototype,"finally",s("Promise").prototype.finally)},8674:function(t,e,r){"use strict";var n,o,i,a,s=r(2109),c=r(1913),u=r(7854),l=r(5005),f=r(3366),p=r(1320),d=r(2248),y=r(8003),v=r(6340),h=r(111),g=r(3099),m=r(5787),_=r(4326),b=r(2788),w=r(408),P=r(7072),A=r(6707),S=r(261).set,T=r(5948),O=r(9478),x=r(842),E=r(8523),I=r(2534),k=r(9909),q=r(4705),C=r(5112),j=r(7392),L=C("species"),N="Promise",M=k.get,Z=k.set,D=k.getterFor(N),R=f,W=u.TypeError,V=u.document,U=u.process,z=l("fetch"),B=E.f,F=B,H="process"==_(U),J=!!(V&&V.createEvent&&u.dispatchEvent),Y="unhandledrejection",G=q(N,(function(){if(b(R)===String(R)){if(66===j)return!0;if(!H&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!R.prototype.finally)return!0;if(j>=51&&/native code/.test(R))return!1;var t=R.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[L]=e,!(t.then((function(){}))instanceof e)})),Q=G||!P((function(t){R.all(t).catch((function(){}))})),K=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},$=function(t,e,r){if(!e.notified){e.notified=!0;var n=e.reactions;T((function(){for(var o=e.value,i=1==e.state,a=0;n.length>a;){var s,c,u,l=n[a++],f=i?l.ok:l.fail,p=l.resolve,d=l.reject,y=l.domain;try{f?(i||(2===e.rejection&&rt(t,e),e.rejection=1),!0===f?s=o:(y&&y.enter(),s=f(o),y&&(y.exit(),u=!0)),s===l.promise?d(W("Promise-chain cycle")):(c=K(s))?c.call(s,p,d):p(s)):d(o)}catch(t){y&&!u&&y.exit(),d(t)}}e.reactions=[],e.notified=!1,r&&!e.rejection&&tt(t,e)}))}},X=function(t,e,r){var n,o;J?((n=V.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),u.dispatchEvent(n)):n={promise:e,reason:r},(o=u["on"+t])?o(n):t===Y&&x("Unhandled promise rejection",r)},tt=function(t,e){S.call(u,(function(){var r,n=e.value;if(et(e)&&(r=I((function(){H?U.emit("unhandledRejection",n,t):X(Y,t,n)})),e.rejection=H||et(e)?2:1,r.error))throw r.value}))},et=function(t){return 1!==t.rejection&&!t.parent},rt=function(t,e){S.call(u,(function(){H?U.emit("rejectionHandled",t):X("rejectionhandled",t,e.value)}))},nt=function(t,e,r,n){return function(o){t(e,r,o,n)}},ot=function(t,e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=2,$(t,e,!0))},it=function(t,e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(t===r)throw W("Promise can't be resolved itself");var o=K(r);o?T((function(){var n={done:!1};try{o.call(r,nt(it,t,n,e),nt(ot,t,n,e))}catch(r){ot(t,n,r,e)}})):(e.value=r,e.state=1,$(t,e,!1))}catch(r){ot(t,{done:!1},r,e)}}};G&&(R=function(t){m(this,R,N),g(t),n.call(this);var e=M(this);try{t(nt(it,this,e),nt(ot,this,e))}catch(t){ot(this,e,t)}},(n=function(t){Z(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(R.prototype,{then:function(t,e){var r=D(this),n=B(A(this,R));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=H?U.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&$(this,r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n,e=M(t);this.promise=t,this.resolve=nt(it,t,e),this.reject=nt(ot,t,e)},E.f=B=function(t){return t===R||t===i?new o(t):F(t)},c||"function"!=typeof f||(a=f.prototype.then,p(f.prototype,"then",(function(t,e){var r=this;return new R((function(t,e){a.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof z&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return O(R,z.apply(u,arguments))}}))),s({global:!0,wrap:!0,forced:G},{Promise:R}),y(R,N,!1,!0),v(N),i=l(N),s({target:N,stat:!0,forced:G},{reject:function(t){var e=B(this);return e.reject.call(void 0,t),e.promise}}),s({target:N,stat:!0,forced:c||G},{resolve:function(t){return O(c&&this===i?R:this,t)}}),s({target:N,stat:!0,forced:Q},{all:function(t){var e=this,r=B(e),n=r.resolve,o=r.reject,i=I((function(){var r=g(e.resolve),i=[],a=0,s=1;w(t,(function(t){var c=a++,u=!1;i.push(void 0),s++,r.call(e,t).then((function(t){u||(u=!0,i[c]=t,--s||n(i))}),o)})),--s||n(i)}));return i.error&&o(i.value),r.promise},race:function(t){var e=this,r=B(e),n=r.reject,o=I((function(){var o=g(e.resolve);w(t,(function(t){o.call(e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}})},2023:function(t,e,r){"use strict";var n=r(2109),o=r(3929),i=r(4488);n({target:"String",proto:!0,forced:!r(4964)("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},8783:function(t,e,r){"use strict";var n=r(8710).charAt,o=r(9909),i=r(654),a="String Iterator",s=o.set,c=o.getterFor(a);i(String,"String",(function(t){s(this,{type:a,string:String(t),index:0})}),(function(){var t,e=c(this),r=e.string,o=e.index;return o>=r.length?{value:void 0,done:!0}:(t=n(r,o),e.index+=t.length,{value:t,done:!1})}))},3948:function(t,e,r){var n=r(7854),o=r(8324),i=r(6992),a=r(8880),s=r(5112),c=s("iterator"),u=s("toStringTag"),l=i.values;for(var f in o){var p=n[f],d=p&&p.prototype;if(d){if(d[c]!==l)try{a(d,c,l)}catch(t){d[c]=l}if(d[u]||a(d,u,f),o[f])for(var y in i)if(d[y]!==i[y])try{a(d,y,i[y])}catch(t){d[y]=i[y]}}}},8578:function(t,e,r){(e=r(3645)(!1)).push([t.id,".viqeo-flyPlayer {\n  -webkit-box-shadow: 0 0 10px #000;\n     -moz-box-shadow: 0 0 10px #000;\n          box-shadow: 0 0 10px #000;\n  background: #fff;\n  font-size: 0;\n  line-height: 0;\n}\n\n.viqeo-flyPlayer_overlayBlock {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 200;\n  -webkit-box-sizing: border-box;\n     -moz-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.viqeo-flyPlayer_overlayBlock-wrapper {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n.viqeo-flyPlayer_container {\n  -webkit-box-sizing: border-box;\n     -moz-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.viqeo-flyPlayer_enableText.viqeo-flyPlayer_container--position-top {\n  position: relative;\n}\n.viqeo-flyPlayer_enableText.viqeo-flyPlayer_container--position-left {\n  float: left;\n}\n.viqeo-flyPlayer_enableText.viqeo-flyPlayer_container--position-right {\n  float: right;\n}\n.viqeo-flyPlayer_disableText.viqeo-flyPlayer_container {\n  min-height: unset;\n}\n.viqeo-flyPlayer_container.viqeo-flyPlayer_enableText {\n  padding: 10px;\n}\n.viqeo-flyPlayer_close {\n  cursor: pointer;\n  position: absolute;\n  z-index: 100;\n  width: 20px;\n  height: 20px;\n}\n.viqeo-flyPlayer_close-button {\n  width: 20px;\n  height: 20px;\n  -webkit-border-radius: 50%;\n     -moz-border-radius: 50%;\n          border-radius: 50%;\n  background: #000;\n  opacity: 0.3;\n}\n.viqeo-flyPlayer_close--position_text-right,\n.viqeo-flyPlayer_close--position_text-top,\n.viqeo-flyPlayer_close--position_text-left,\n.viqeo-flyPlayer_close--position_text-none {\n  top: -20px;\n  right: 0;\n}\n.viqeo-flyPlayer_disableCloseButton .viqeo-flyPlayer_close {\n  display: none;\n}\n.viqeo-flyPlayer_close:hover .viqeo-flyPlayer_close-button {\n  opacity: 0.5;\n}\n.viqeo-flyPlayer_text {\n  font-size: 12px;\n  line-height: normal;\n  -webkit-box-sizing: border-box;\n     -moz-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.viqeo-flyPlayer_enableText.viqeo-flyPlayer_container--position-top\n  .viqeo-flyPlayer_text {\n  padding-right: 30px;\n}\n.viqeo-flyPlayer_enableText.viqeo-flyPlayer_container--position-left\n  .viqeo-flyPlayer_text,\n.viqeo-flyPlayer_enableText.viqeo-flyPlayer_container--position-right\n  .viqeo-flyPlayer_text {\n  padding-bottom: 30px;\n}\n.viqeo-flyPlayer_disableText .viqeo-flyPlayer_text {\n  display: none;\n}\n.viqeo-flyPlayer_disableCloseButton .viqeo-flyPlayer_text {\n  padding: 0;\n}\n",""]),t.exports=e},3645:function(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=function(t,e){var r,n,o,i=t[1]||"",a=t[3];if(!a)return i;if(e&&"function"==typeof btoa){var s=(r=a,n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(o," */")),c=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[i].concat(c).concat([s]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,n){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);n&&o[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),e.push(c))}},e}},8197:function(t,e,r){var n;!function(){"use strict";var o,i={name:"doT",version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0,encodeHTMLSource:function(t){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},r=t?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(t){return t?t.toString().replace(r,(function(t){return e[t]||t})):""}}};o=function(){return this||(0,eval)("this")}(),t.exports?t.exports=i:void 0===(n=function(){return i}.call(e,r,e,t))||(t.exports=n);var a={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},s=/$^/;function c(t,e,r){return("string"==typeof e?e:e.toString()).replace(t.define||s,(function(e,n,o,i){return 0===n.indexOf("def.")&&(n=n.substring(4)),n in r||(":"===o?(t.defineParams&&i.replace(t.defineParams,(function(t,e,o){r[n]={arg:e,text:o}})),n in r||(r[n]=i)):new Function("def","def['"+n+"']="+i)(r)),""})).replace(t.use||s,(function(e,n){t.useParams&&(n=n.replace(t.useParams,(function(t,e,n,o){if(r[n]&&r[n].arg&&o){var i=(n+":"+o).replace(/'|\\/g,"_");return r.__exp=r.__exp||{},r.__exp[i]=r[n].text.replace(new RegExp("(^|[^\\w$])"+r[n].arg+"([^\\w$])","g"),"$1"+o+"$2"),e+"def.__exp['"+i+"']"}})));var o=new Function("def","return "+n)(r);return o?c(t,o,r):o}))}function u(t){return t.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}i.template=function(t,e,r){var n,l,f=(e=e||i.templateSettings).append?a.append:a.split,p=0,d=e.use||e.define?c(e,t,r||{}):t;d=("var out='"+(e.strip?d.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):d).replace(/'|\\/g,"\\$&").replace(e.interpolate||s,(function(t,e){return f.start+u(e)+f.end})).replace(e.encode||s,(function(t,e){return n=!0,f.startencode+u(e)+f.end})).replace(e.conditional||s,(function(t,e,r){return e?r?"';}else if("+u(r)+"){out+='":"';}else{out+='":r?"';if("+u(r)+"){out+='":"';}out+='"})).replace(e.iterate||s,(function(t,e,r,n){return e?(p+=1,l=n||"i"+p,e=u(e),"';var arr"+p+"="+e+";if(arr"+p+"){var "+r+","+l+"=-1,l"+p+"=arr"+p+".length-1;while("+l+"<l"+p+"){"+r+"=arr"+p+"["+l+"+=1];out+='"):"';} } out+='"})).replace(e.evaluate||s,(function(t,e){return"';"+u(e)+"out+='"}))+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),n&&(e.selfcontained||!o||o._encodeHTML||(o._encodeHTML=i.encodeHTMLSource(e.doNotSkipEncoded)),d="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+i.encodeHTMLSource.toString()+"("+(e.doNotSkipEncoded||"")+"));"+d);try{return new Function(e.varname,d)}catch(t){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+d),t}},i.compile=function(t,e){return i.template(t,null,e)}}()},232:function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null})},6511:function(t,e,r){t.exports='<style type="text/css">'+r(7510)+'</style>\n<div\n  style="{{? it.position === \'top\'}}padding-bottom: {{=it.playerHeight}}px; {{?}}"\n  class="viqeo-flyPlayer_overlayBlock {{? it.enableCloseButton }} viqeo-flyPlayer_enableCloseButton {{??}} viqeo-flyPlayer_disableCloseButton {{?}}"\n >\n  <div class="viqeo-flyPlayer_overlayBlock-wrapper">\n    <div class="viqeo-flyPlayer_close viqeo-flyPlayer_close--position_text-{{=it.position}}">\n      <div class="viqeo-flyPlayer_close-button">\n        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24">\n          <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" fill="white"/>\n            <path d="M0 0h24v24H0z" fill="none"/>\n        </svg>\n      </div>\n    </div>\n  </div>\n</div>\n<div\n  style="width: {{=it.width}}px; min-height: {{? !it.enableText }} unset {{?? it.position === \'top\'}} 35px {{??}} {{=it.playerHeight}}px {{?}}"\n  class="viqeo-flyPlayer_container\n    {{? it.enableText }} viqeo-flyPlayer_enableText {{??}} viqeo-flyPlayer_disableText {{?}}\n    viqeo-flyPlayer_container--position-{{=it.position}}"\n  >\n  <div class="viqeo-flyPlayer_text">{{=it.text}}</div>\n<div>\n'},342:function(t,e,r){"use strict";function n(t,e,r,n){var o,i=!1,a=0;function s(){o&&clearTimeout(o)}function c(){for(var c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];var f=this,p=Date.now()-a;function d(){a=Date.now(),r.apply(f,u)}function y(){o=void 0}i||(n&&!o&&d(),s(),void 0===n&&p>t?d():!0!==e&&(o=setTimeout(n?y:d,void 0===n?t-p:t)))}return"boolean"!=typeof e&&(n=r,r=e,e=void 0),c.cancel=function(){s(),i=!0},c}r.d(e,{P:function(){return n}})},7510:function(t,e,r){var n=r(8578);t.exports="string"==typeof n?n:n.toString()},4817:function(t,e,r){"use strict";var n=function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)},o=function(t){try{return JSON.parse(localStorage.getItem("viqeo-config"))||!1}catch(t){return!1}}()||{};e.Z=n(n({},{baseUrl:"https://api.viqeo.tv/v1",statsUrl:"https://stats.viqeo.tv",staticUrl:"https://cdn.viqeo.tv/js/assets",playerHomeUrl:"https://viqeo.tv",personalUrl:"https://studio.viqeo.tv",embedUrl:"https://cdn.viqeo.tv",embedFullUrl:"https://cdn.viqeo.tv/embed",proxyUrl:"https://cdn.viqeo.tv/v1/proxy",ampAdvertUrl:"https://amptracker.viqeo.tv",sentryUrl:"https://ec24115ec2f64caf8c9e09f46f5a1bf1@sentry.viqeo.tv/12",staticImageUrl:"https://cdn.viqeo.tv",libRoutes:"https://studio.viqeo.tv/assets/libRoutes.json",sentryProjectName:"viqeo-player-master",assetsFolderPath:"assets",serverPath:"js",port:3020}),o)},1092:function(t,e){"use strict";var r=function(){function t(){this.eventListeners={},this.listeners=[]}return t.prototype.subscribe=function(t,e){this.eventListeners[e]=[].concat(this.eventListeners[e]||[],t)},t.prototype.subscribeAll=function(t){this.listeners.push(t)},t.prototype.subscribeOnce=function(t,e){var r=this,n=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];t.apply(void 0,o),r.unsubscribe(n,e)};this.subscribe(n,e)},t.prototype.unsubscribe=function(t,e){this.eventListeners[e]=[].concat(this.eventListeners[e]||[]).filter((function(e){return e!==t}))},t.prototype.unsubscribeAll=function(){this.eventListeners={},this.listeners=[]},t.prototype.trigger=function(t,e){var r=this;(this.eventListeners[t]||[]).forEach((function(t){return t.apply(r,[e])})),this.listeners.forEach((function(n){return n.apply(r,[t,e,r])}))},t}();e.Z=r},2285:function(t,e){"use strict";e.Z={extPlayer:"extPlayer",stdPlayer:"stdPlayer",recommendPlayer:"recommendPlayer",viqeoPersonlaPlayer:"viqeoPersonalPlayer",galleryPlayer:"galleryPlayer",storyPreviewsPlayer:"storyPreviewsPlayer",flyWidget:"flyWidget",articleWidget:"articleWidget"}},5940:function(t,e){"use strict";e.Z={STARTED:"started",ENDED:"ended",PAUSED:"paused",REPLAYED:"replayed",PLAYED:"played"}},129:function(t,e){"use strict";var r=1475,n={preview:1400,videoContainer:500,overlayContainer:6e3,spinner:1450,playerLogo:3e3,editorButtons:3e3,swipeForward:3e3,blick:4e3,subtitles:1e3,play:r,share:r,volume:r,progress:r,storyLink:r,mobileTouchProgress:1500,copyright:7500,fullScreen:r,playbackSpeed:r,playbackMenuOverlay:1500,settings:r,mobilePanel:3050,videoMode:r,splashControls:1250,unpublishedLabel:1500,timelineSprite:r,recommendationPreview:4e3,contextMenu:9e3,flyPlayer:2147483547,background:50,pageSwitcher:1200,activeVolume:3e3,watermark:1450};e.Z=n},6284:function(t,e){"use strict";e.Z=function(t){if(navigator.clipboard)return navigator.clipboard.writeText(t).catch((function(t){throw void 0!==t?t:new Error("The request is not allowed")}));var e=document.createElement("span");e.textContent=t,e.style.whiteSpace="pre",document.body.appendChild(e);var r=window.getSelection(),n=window.document.createRange();r.removeAllRanges(),n.selectNode(e),r.addRange(n);var o=!1;try{o=window.document.execCommand("copy")}catch(t){console.log("error",t)}return r.removeAllRanges(),window.document.body.removeChild(e),o?Promise.resolve():Promise.reject(new Error("The request is not allowed"))}},7289:function(t,e,r){"use strict";r.d(e,{Hy:function(){return b},QZ:function(){return _},Y4:function(){return h},a1:function(){return f},ai:function(){return g},fq:function(){return l},i$:function(){return m},ny:function(){return w},vF:function(){return v}});var n,o=navigator.userAgent,i=navigator.vendor,a=navigator.platform,s=window.opera,c=window.MSStream,u=(window.devicePixelRatio,o||i||s),l=!!window.MSInputMethodContext&&!!document.documentMode,f=/^((?!chrome|android).)*safari/i.test(u),p=(!!(n=u.match(/Chrom(e|ium)\/([0-9]+)\./))&&parseInt(n[2],10),/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),/Firefox/.test(u),/iPod/.test(u)&&!c),d=/iPhone/.test(u)&&!c,y=/iPad/.test(u)&&!c,v=p||d||y,h=function(){if(v){var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return t?parseInt(t[1],10):null}return null}(),g=(/android/i.test(u),/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(u)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(u.substr(0,4))),m=/Edge/.test(u),_=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(e){t=!1}return t}(),b=(!!a&&a.indexOf("Win"),"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype),w=function(){return new Promise((function(t,e){var r=new Image;r.onload=function(){r.width>0&&r.height>0?t():e()},r.onerror=function(){e()},r.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA=="}))}},9003:function(t,e,r){"use strict";r.d(e,{$Z:function(){return A},BU:function(){return d},Cp:function(){return P},GA:function(){return c},Mx:function(){return k},N$:function(){return s},P3:function(){return E},U2:function(){return C},U7:function(){return T},VB:function(){return u},W3:function(){return a},WS:function(){return g},WU:function(){return x},Wx:function(){return O},Ym:function(){return i},Zs:function(){return l},Zy:function(){return v},a1:function(){return j},b8:function(){return w},dC:function(){return o},ej:function(){return m},n9:function(){return _},oq:function(){return q},oz:function(){return I},pB:function(){return b},wH:function(){return S},x9:function(){return h}});var n=r(9929),o=function(t,e){return setInterval((0,n.jM)(t),e)},i=function(t,e){return setTimeout((0,n.jM)(t),e)},a=function(t,e,r,o){void 0===o&&(o=!1);var i=(0,n.jM)(r);return t.addEventListener(e,i,o),i},s=function(t){t.preventDefault(),t.stopPropagation()},c=function(t){return t&&t.parentNode&&t.parentNode.removeChild(t),null},u=function(t){return new Promise((function(e,r){var n=t.play();n?n.then(e,r):t.paused?r(new Error("play() not returned promise and video paused")):e()}))},l=function(t,e){var r=[].concat(t);return Object.keys(e).forEach((function(t){var n=e[t];void 0!==n&&r.forEach((function(e){e.style[t]=n}))})),t},f=function(t){return t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))},p=function(t,e){var r=t.ownerDocument.createElement("style");r.type="text/css",r.styleSheet?r.styleSheet.cssText=e:r.appendChild(t.ownerDocument.createTextNode(e)),t.appendChild(r)},d=function(t,e){var r=[];Object.keys(e).forEach((function(t){var n=e[t],o=[];Object.keys(n).forEach((function(t){var e=n[t],r=f(t);o.push(r+":"+e)}));var i=t+"{"+o.join("")+"}";r.push(i)}));var n=r.join("");p(t,n)},y=[],v=function(t,e,r){var n=y.find((function(e){return e.el===t}));if(!n||!n.names.find((function(t){return t===e}))){var o="@keyframes "+e,i=[];r.forEach((function(t){var e=t.css,r=t.percent,n=[];Object.keys(e).forEach((function(t){var r=e[t],o=f(t);n.push(o+":"+r+";")}));var o=n.join(" ");i.push(r+" {"+o+"}")})),p(t,o+" {"+i.join("")+"}"),n?n.names.push(e):y.push({el:t,names:[e]})}},h=function(t){var e=t;"NOINDEX"===t.tagName&&t.parentElement&&(e=t.parentElement);var r=e.clientWidth,n=getComputedStyle(e),o=n.paddingLeft,i=n.paddingRight;return r-parseFloat(o)-parseFloat(i)},g=function(t){var e=t;"NOINDEX"===t.tagName&&t.parentElement&&(e=t.parentElement);var r=e.clientHeight,n=getComputedStyle(e),o=n.paddingTop,i=n.paddingBottom;return r-parseFloat(o)-parseFloat(i)},m=function(t,e){var r=t.contentWindow["on"+e];t.contentWindow["on"+e]=function(n){if(r&&r(n),void 0!==window.KeyboardEvent){var o=new KeyboardEvent(e,{bubbles:!0,cancelable:!0,keyCode:n.keyCode,charCode:n.charCode,shiftKey:n.shiftKey});t.dispatchEvent(o)}}},_=function(t,e){var r=t.contentWindow["on"+e];t.contentWindow["on"+e]=function(n){r&&r(n);var o=document.createEvent("MouseEvents"),i=t.getBoundingClientRect();o.initMouseEvent(""+e,!0,!1,window,n.detail,n.screenX,n.screenY,n.clientX+i.left,n.clientY+i.top,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,null),t.dispatchEvent(o)}},b=function(t){var e=t.getBoundingClientRect(),r=document.body,n=document.documentElement,o=window.pageXOffset||n.scrollLeft||r.scrollLeft,i=n.clientLeft||r.clientLeft||0;return Math.round(e.left+o-i)},w=function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value},P=function(t){t.style.display&&"block"!==t.style.display||l(t,{display:"none"})},A=function(t){t.style.display&&"none"!==t.style.display||l(t,{display:"block"})},S=function(t){var e=t.offsetHeight,r=parseInt(e,10),n=function(t){var e=window,r=t,n=document.documentElement,o=e.offsetHeight||window.innerHeight,i=!Number.isNaN(e.scrollTop)&&e.scrollTop||(window.pageYOffset||n.scrollTop)-(n.clientTop||0);return{viewportHeight:o,viewportTop:i,viewportBottom:i+o,moduleTop:r.getBoundingClientRect().top}}(t),o=n.viewportTop,i=n.viewportBottom,a=n.moduleTop,s=Math.max(o,o+a),c=Math.min(i,s+a+r),u=Math.max(0,Math.min(r,c-s));return r&&u/r},T=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,O=window.cancelAnimationFrame||window.mozCancelAnimationFrame,x=function(t,e){void 0===e&&(e=document);var r=e.createElement("div");l(r,{height:0,width:"100%",paddingBottom:"100%",position:"relative"}),t.appendChild(r);var n=e.createElement("div");return l(n,{position:"absolute",top:0,left:0,right:0,bottom:0}),r.appendChild(n),n},E=function(t,e,r){var n;void 0===r&&(r=500),a(t,"touchend",(function(e){n&&clearTimeout(n),t.classList.contains("touched")&&(t.classList.remove("touched"),s(e))}),!0),a(t,"touchmove",(function(){n&&clearTimeout(n)})),a(t,"touchstart",(function(o){t.classList.remove("touched"),n=i((function(){t.classList.add("touched"),e(o)}),r)}))},I=function(t){var e=document.createElement("video");return e.canPlayType&&e.canPlayType(t)},k=function(t,e,r){for(var n=["webkit","moz","MS","o",""],o=0;o<n.length;o+=1)n[o]||(e=e.toLowerCase()),a(t,n[o]+e,r)},q=function(t,e){if(t.closest)return t.closest(e);for(var r=void 0;r;){if(r.matches(e))return r;r=r.parentElement}return null},C=function(t){try{return JSON.parse(localStorage.getItem(t))||!1}catch(t){return!1}},j=function(t,e){try{return localStorage.setItem(t,e)}catch(t){return!1}}},9929:function(t,e,r){"use strict";r.d(e,{aP:function(){return a},jM:function(){return s},o_:function(){return i}});var n=r(1824),o=["russian7.ru"];function i(t){n.Z.error(t);var e=window.location?window.location.href:"";o.find((function(t){return-1!==e.indexOf(t)}))||Promise.all([r.e(434),r.e(993)]).then(r.bind(r,8336)).then((function(e){return e.default.captureException(t)}))}function a(t){try{return t.call(this)}catch(t){throw i(t),t}}function s(t){return t.__errorWrapped__||(t.__errorWrapped__=function(){try{return t.apply(this,arguments)}catch(t){i(t)}}),t.__errorWrapped__}},1824:function(t,e,r){"use strict";var n=r(6284),o=/[?&]vq_debug\b(?:=(\d+))?/.exec(window.location.search),i=(o&&Math.max(0,Math.min(6,o[1]||3)),function(){function t(){this._logs=[],this._logsTime={}}return t.prototype.error=function(t){this._send(1,t,"color: red; font-weight: bold")},t.prototype.warn=function(t){this._send(2,t,"color: red")},t.prototype.log=function(t){this._send(3,t,"")},t.prototype.track=function(t){this._send(4,t,"color: darkblue")},t.prototype.debug=function(t){this._send(5,t,"color: darkgray")},t.prototype.trace=function(t){this._send(6,t,"color: lightgray")},t.prototype.time=function(t){this._logsTime[t]=+new Date,this.log(""+t)},t.prototype._send=function(t,e,r){var n="VIQEO_LOG|%c["+(new Date).toISOString().slice(11,-1)+"] "+e;this._logs.push(n)},t.prototype.timeEnd=function(t){var e=this._logsTime[t];if(e){var r=(+new Date-e)/1e3;this.log(t+". Timer ended: "+r+"sec")}else this.error("logger.timeEnd("+t+") Not found: "+t)},t.prototype.getLogs=function(){return this._logs},t.prototype.copy=function(){var t={logs:this._logs,playersState:[]},e=window.VIQEO;e&&e.getPlayers().forEach((function(e){return t.playersState.push(e.store.getState())})),(0,n.Z)(JSON.stringify(t))},t}());window.vqLogger=window.vqLogger?window.vqLogger:new i;var a=window.vqLogger;e.Z=a},4673:function(t,e,r){"use strict";r.d(e,{$P:function(){return _},FC:function(){return N},FJ:function(){return O},HB:function(){return T},Hf:function(){return j},P$:function(){return I},Rx:function(){return S},SP:function(){return d},TD:function(){return m},Ug:function(){return A},WY:function(){return g},YY:function(){return w},Yo:function(){return h},aG:function(){return v},d9:function(){return f},eR:function(){return L},en:function(){return p},fZ:function(){return k},g5:function(){return C},gp:function(){return E},jt:function(){return q},o3:function(){return y},oE:function(){return P},qE:function(){return l},v7:function(){return M},ve:function(){return u}});var n=r(7289),o=r(9929),i=r(4817),a=r(9003),s=r(6284),c=void 0,u=function(t,e,r,n){if(void 0===n&&(n=window.document),t){var o=n.getElementsByTagName("head")[0],i=n.createElement("script");i.src=t,i.type="text/javascript",i.charset="UTF-8",(0,a.W3)(i,"load",(function(){e&&e()})),(0,a.W3)(i,"error",(function(){r&&r()})),o.appendChild(i)}},l=function(t,e){if(t){var r=new Image;r.src=t,e&&(r.onerror=e)}},f=function(t){return JSON.parse(JSON.stringify(t))},p=function(t){void 0===t&&(t="");var e=t.split("?")[1]||"";return(e?e.split("&"):[]).reduce((function(t,e){var r=e.split("="),n=r[0]&&decodeURIComponent(r[0]),o=r[1]&&decodeURIComponent(r[1]);return t[n]=o&&o.replace(/\+/g," "),t}),{})},d=function(t){var e=t.attributes,r={},n={customtag:"customTag",playerid:"playerId",videosrc:"videoSrc",previewsrc:"previewSrc",uniqid:"uniqId"};return Array.from(e).forEach((function(t){if(/^data-/.test(t.name)){var e=t.name.replace(/^data-/,"").toLowerCase();r[n[e]||e]=t.value}})),r},y=function(t,e){void 0===t&&(t=""),void 0===e&&(e={});var r=[];Object.keys(e).forEach((function(t){var n=e[t],o=[encodeURIComponent(t)];if(Array.isArray(n)){var i=encodeURIComponent("[]");n.forEach((function(t){var e=encodeURIComponent(t);r.push(""+o+i+"="+e)}))}else null!=n&&o.push(encodeURIComponent(n)),r.push(o.join("="))}));var n=t.indexOf("?")>-1?"&":"?";return r.length?t+n+r.join("&"):t},v=function(t){return"//"===t.substring(0,2)?document.location.protocol+t:"/"===t.substring(0,1)?document.location.protocol+"//"+document.location.hostname+t:t},h=function(t,e){if(void 0===e&&(e=!0),t)if(n.vF){var r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("target",e?"_blank":"_self");var o=document.createEvent("HTMLEvents");o.initEvent("click",!0,!0),r.dispatchEvent(o)}else window.open(t,e?"_blank":"_self")},g=function(t,e,r,n,o,i,a,s){if(void 0===o&&(o="GET"),void 0===a&&(a=!0),void 0===s&&(s="application/json"),!t)return null;var u=new XMLHttpRequest;n&&u.overrideMimeType&&u.overrideMimeType(n),e&&(u.onload=e.bind(c,u)),r&&(u.onerror=r.bind(c,u)),u.open(o,t,!0),u.withCredentials=a;var l=null;return i&&(u.setRequestHeader&&s&&u.setRequestHeader("Content-type",s),l=JSON.stringify(i)),u.send(l),u},m=function(t){if("0"===t)return null;var e=/^\s*(?:(?:(\d+):)?(\d+):)?(\d+)(?:[.,](\d+))?\s*$/.exec(t);return e?(60*(+e[1]||0)*60*1e3+60*(+e[2]||0)*1e3+1e3*(+e[3]||0)+(+e[4]||0))/1e3:null},_=function(){var t="test_viqeo_storage";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}},b=function(t,e){void 0===e&&(e=2);var r=Math.abs(parseFloat(t)),n=e-String(t).length+1;return""+new Array(n).join("0")+r},w=function(t){var e=t.srcWidth,r=t.srcHeight,n=t.maxWidth,o=t.maxHeight,i=t.framing,a=void 0===i?"fit":i,s=t.objectivePositionX,c=void 0===s?50:s,u=t.objectivePositionY,l=void 0===u?50:u,f=Math.min;"crop"===a&&(f=Math.max);var p=f(n/e,o/r),d=r*p,y=e*p;return{width:y,height:d,top:(o-d)/(100/("fit"===a?50:l)),left:(n-y)/(100/("fit"===a?50:c))}},P=function(t){var e=Math.floor(t/60),r=t-60*e;return[b(e),b(r)].join(":")},A=function(t){return void 0===t&&(t=""),0===(""+t).length||/%|px/.test(""+t)?""+t:t+"px"},S=function(t){var e;try{e=JSON.parse(t)}catch(t){return!1}return e},T=function(){for(var t=window.navigator.language,e=["ru","fr","ro","de","zh","ja","ko","tr","pl"],r=0;r<e.length;r++)if(-1!==t.indexOf(e[r]))return e[r];return-1!==t.indexOf("es")||-1!==t.indexOf("ca")?"es":"en"},O=function(t){return"en"===t||"ru"===t},x=function(t){var e=window.vqLogger,r=t.getState(),n=e?e.getLogs():["Not found logs"];return JSON.stringify({logs:n,playerState:r})},E=function(t,e){var r=function(t){void 0===t&&(t=4);for(var e="",r=0;r<t;r+=1)e+=Math.random().toString(16).slice(-4);return e}(4);g(t.baseUrl+"/debug",!1,!1,!1,"POST",{debug_info:x(e),hash:r}),(0,s.Z)(r)},I=function(){var t=window.location;if(t.origin)return t.origin;var e=t.port?":"+t.port:"";return t.protocol+"//"+t.hostname+e},k=function(t){return t.replace(/([-_][a-z])/gi,(function(t){return t.toUpperCase().replace("-","").replace("_","")}))},q=function(t){var e,r=performance.now(),n=function(i){var s=(i-r)/t.duration;s>1&&(s=1);var c=t.timing(s);t.draw(c),s<1?e=(0,a.U7)((0,o.jM)(n)):t.end&&t.end()};return e=(0,a.U7)((0,o.jM)(n)),{cancel:function(){return(0,a.Wx)(e)}}},C=function(t,e){-1!==e.indexOf(i.Z.staticImageUrl)?(0,n.ny)().then((function(){t.src=e.replace(/\.jpg|\.png/,".webp")})).catch((function(){t.src=e})):t.src=e},j=function(){var t=window.MediaSource||window.WebKitMediaSource;if(!t)return!1;var e=window.SourceBuffer||window.WebKitSourceBuffer,r=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!r&&!!n},L=function(t){var e=t.vqPlayback,r=t.mediaFiles,n=e&&e.find((function(t){return"aspect"===t.option.id}))||{option:{type:"video"}},o=9/16;if(r)for(var i=0;i<r.length;i+=1){var a=r[i],s=a.width,c=a.height;if(s&&c){o=c/s;break}}var u=n.option.type;switch("smart"===u&&(u="video",o>.75&&window.innerWidth>window.innerHeight&&(u="4/3")),u){case"square":return 1;case"custom":var l=n.option;return s=l.width,(c=l.height)/s;case"16/9":return 9/16;case"9/16":return 16/9;case"4/3":return 3/4;default:return o}},N=function(t){if(!t)return 0;if("asvideo"===t.type){var e=parseFloat(t.volume||-1);return-1!==e?e:(0,a.U2)("vq-volume")||.7}return 0},M=function(t){var e=t.storyMetadata;e&&e.pages&&e.pages.forEach((function(t){return t.layers.forEach((function(t){return t.elements.forEach((function(t){t.isOriginalDuration=!0}))}))}))}},8463:function(t,e,r){"use strict";r.d(e,{Oz:function(){return s},XS:function(){return i},YV:function(){return c},om:function(){return o},ws:function(){return a}});var n=r(4673),o=function(t,e){var r=[];return t?(t.forEach((function(t){t.type===e&&r.push(t)})),r):r},i=function(t,e,r){var n=[];t.forEach((function(t){var e=t.width*t.height;n.push(e)}));for(var o=e*r,i=1/0,a=n.indexOf(Math.max.apply(Math,n)),s=0;s<n.length;s+=1){var c=n[s]-o;c<i&&c>=0&&(i=c,a=s)}return t[a]},a=function(t){var e=/(\d+)\n([\d:.,]+)\s*-->\s*([\d:.,]+)\n((?:.|\n)+)/m;return t.replace(/^[^\S\n]*(.+)[^\S\n]*$/gm,"$1").replace(/\r/g,"\n").split("\n\n").map((function(t){var r=e.exec(t);return!!r&&{id:r[1],startTime:(0,n.TD)(r[2]),endTime:(0,n.TD)(r[3]),text:r[4]}})).filter(Boolean)},s=function(t){if(!t)return{};var e=t.thumb,r=t.width,n=t.height,o=e.match(/\d+/g),i=0,a=0;return o&&o.length>=2&&(i=Number(o[0]),a=Number(o[1])),{width:Number(r)||0,height:Number(n)||0,tileWidth:i,tileHeight:a}},c=function(t,e){return void 0===t&&(t={}),((t.vqControls||{}).find((function(t){return t.control.id===e}))||{}).control}}},o={};function i(t){var e=o[t];if(void 0!==e)return e.exports;var r=o[t]={id:t,loaded:!1,exports:{}};return n[t].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=n,i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce((function(e,r){return i.f[r](t,e),e}),[]))},i.u=function(t){return"367/js/"+({177:"vq_hls",288:"vq_story_widget",623:"vq_gallery",719:"vq_fly_widget",747:"vq_player",993:"vq_sentry"}[t]||t)+".js"},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.hmd=function(t){return(t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t={},e="viqeo-player:",i.l=function(r,n,o,a){if(t[r])t[r].push(n);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var f=u[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==e+o){s=f;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",e+o),s.src=r),t[r]=[n];var p=function(e,n){s.onerror=s.onload=null,clearTimeout(d);var o=t[r];if(delete t[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(t){return t(n)})),e)return e(n)},d=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.p="https://cdn.viqeo.tv/js/assets/",function(){var t={872:0};i.f.j=function(e,r){var n=i.o(t,e)?t[e]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise((function(r,o){n=t[e]=[r,o]}));r.push(n[2]=o);var a=i.p+i.u(e),s=new Error;i.l(a,(function(r){if(i.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,n[1](s)}}),"chunk-"+e,e)}};var e=function(e,r){var n,o,a=r[0],s=r[1],c=r[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);c&&c(i)}for(e&&e(r);u<a.length;u++)o=a[u],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackJsonpViqeo=self.webpackJsonpViqeo||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}(),(r="undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"@viqeo-player:367"},r.SENTRY_RELEASES=r.SENTRY_RELEASES||{},r.SENTRY_RELEASES["viqeo-player-master@viqeo"]={id:"@viqeo-player:367"},function(){"use strict";i(4794),i(1457),i(4370),i(817),i(3462),i(4533),i(3993),i(9116),i(7633),i(232);var t,e=i(1824),r=i(4673),n=i(4817),o=function(){function t(){this._events=[],this._config={}}return t.prototype.triggerTracking=function(t){for(var e=0;e<this._events.length;e+=1){for(var r=this._events[e],n=r.cb,o=r.filter,i=Object.keys(o),a=!0,s=0;s<i.length;s+=1){var c=i[s];if(Array.isArray(o[c])){if(-1===o[c].indexOf(t[c])){a=!1;break}}else if(o[c]!==t[c]){a=!1;break}}a&&n(t)}return!0},t.prototype.subscribeTracking=function(t,e){var r=e||{};"string"==typeof r&&(r={eventName:e}),this._events.push({cb:t,filter:r})},t.prototype.unsubscribeTracking=function(t){this._events=[].concat(this._events).filter((function(e){var r=e.cb;return t!==r}))},t}(),a=i(9003),s=i(9929),c=i(1092),u=(t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}),l=function(t){function e(e){var r=t.call(this,e)||this;return r._viqeo=e.viqeo,r.playersManager=e.playersManager,r}return u(e,t),e.prototype.getReferer=function(){return this._viqeo._config.url||window.location.href},e.prototype.run=function(){},e}(c.Z),f=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),p=function(){return p=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},p.apply(this,arguments)},d=function(t){function n(e){var r=t.call(this,e)||this,n=e.playersManager,o=e.type;return r._ids={},r._type=o,r._players=[],r.playersManager=n,r._queque=[],r}return f(n,t),n.prototype.loadData=function(){var t=this;return new Promise((function(n,o){var i=t.getUrl(),a=t.getValuesForRequest(),s="GET";a&&(s="POST"),e.Z.log("BaseLayout Init startup url:"+i+" values:"+JSON.stringify(a)),e.Z.time("BaseLayout Load data url:"+i),t.beforeLoadData(),(0,r.WY)(i,(function(r){e.Z.timeEnd("BaseLayout Load data url:"+i),e.Z.log("BaseLayout Data startup "+r.responseText);try{var a=JSON.parse(r.responseText),s=a.status,c=a.message;"error"!==s?(n(a),t.trigger("Tracking",{container:t._type,eventName:"Init:StartupDataLoaded",data:a,profileId:a.init.profile_id})):o(c)}catch(t){o(new Error("Failed to parse profile json: "+t))}}),(function(t){e.Z.error("BaseLayout Failed load init: "+t),o(t)}),!1,s,a)}))},n.prototype.run=function(t){this.findElements(t)},n.prototype._createEmptyId=function(t,e){void 0===e&&(e={}),this._ids[t]=p({frameData:null,initData:null,hasLoad:!1,elements:[]},e)},n.prototype.parseId=function(t,e,r){var n=t.getAttribute(e);this._ids[n]||this._createEmptyId(n,r),this._ids[n].elements.find((function(e){return e.mark===t}))||this._ids[n].elements.push({mark:t,getPlayer:null})},n.prototype.parseIds=function(t,e){var r=this;Array.from(t).forEach((function(t){return r.parseId(t,e)}))},n.prototype.getNotLoadedIds=function(){var t=this,e=[];return Object.keys(this._ids).forEach((function(r){t._ids[r].hasLoad||e.push(r)})),e},n.createSlot=function(t){var e=document.createElement("div");return e.className="viqeo-slot",e.setAttribute("data-video_id",t),e},n.transformAmpData=function(t){var e=(0,r.d9)(t);return e.vqPlayback.forEach((function(t){"videostart"===t.option.id&&(t.option.type="click"),"aspect"===t.option.id&&(t.option.type="container",t.option.framing="crop")})),e},n.transformStandaloneData=function(t){var e=(0,r.d9)(t);return e.vqPlayback.forEach((function(t){"aspect"===t.option.id&&(t.option.type="container")})),e},n.transformData=function(t,e){var o=e.amp,i=e.standalone;return(0,r.v7)(t),o?n.transformAmpData(t):i?n.transformStandaloneData(t):t},n.prototype.createPlayers=function(){var t=this;Object.keys(this._ids).forEach((function(r){var o=t._ids[r],i=o.elements,s=o.frameData,c=o.initData,u=o.profileId;s&&!s.banned&&i.forEach((function(o,l){var f=o.mark;if(!o.getPlayer){var d=n.createSlot(r);f.parentNode.insertBefore(d,f),e.Z.time("BaseLayout Video in player load id="+r),i[l].getPlayer=t.getPlayer(p(p({},c),{slot:d,mark:f,originalSlot:f.parentNode,data:n.transformData(s,t._viqeo._config),profileId:u,trackerFn:t._triggerTrackerPlayer.bind(t),hideWrapper:!0,referer:t.getReferer()}),f),i[l].getPlayer.then((function(n){var o=function(){e.Z.timeEnd("BaseLayout Video in player load id="+r),(0,a.GA)(f),n.getContainer().style.setProperty("display","block","important"),n.forceResize()};n.getMeta().showOnlyWithAdvert?(e.Z.log("BaseLayout. Player wait advert loaded."),n.subscribe((function(){e.Z.log("BaseLayout. Adv loaded, player request video."),n.loadVideo(),o()}),"advLoaded")):n.hasReady()?o():n.subscribe(o,"Ready"),t.pushPlayer(n,t._ids[r].initData||{},s)}))}}))}))},n.prototype._triggerTrackerPlayer=function(t,e,r){this._players.find((function(t){return t===r}))?this.trigger("Tracking",p(p({eventName:"Player:"+t,slotId:r.getSlotId(),videoId:r.getSlotId(),container:r.getMeta().container,player:r},r.options.paramsForGlobalEvent),e)):this._queque.push({event:t,options:e,player:r})},n.prototype.pushPlayer=function(t,e,r){var n=this;this._players.push(t),this.trigger("Tracking",p({eventName:"Player:added",slotId:t.getSlotId(),container:t.getMeta().container,player:t,startupItem:e,data:r},t.options.paramsForGlobalEvent)),this._queque.filter((function(e){return e.player===t})).forEach((function(t){return n._triggerTrackerPlayer(t.event,t.options,t.player)})),this._queque=this._queque.filter((function(e){return e.player!==t}))},n.prototype.getPlayers=function(){return this._players},n.prototype.beforeLoadData=function(){var t=this;Object.keys(this._ids).forEach((function(e){t._ids[e].hasLoad=!0}))},n.prototype.destroyPlayers=function(){this._players.forEach((function(t){return t.destroy()})),this._players=[]},n.prototype.getPlayer=function(){},n.prototype.findElements=function(){},n.prototype.getUrl=function(){},n.prototype.getValuesForRequest=function(){},n}(l),y=d,v=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),h=function(){return h=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},h.apply(this,arguments)},g=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))},m=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_=function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t},b=function(t){function o(e){var r=t.call(this,e)||this;return(0,a.W3)(window,"message",r._handleGetMessage.bind(r)),r}return v(o,t),o.transformStoryMedatada=function(t){return g(this,void 0,void 0,(function(){var e,o,i;return m(this,(function(a){switch(a.label){case 0:return e=t.pages,o=[],e.forEach((function(t){t.layers.forEach((function(t){var i=t.elements.find((function(t){return"poll"===t.type})),a=i?i.pollData.answers:[],s=!1;a.forEach((function(t){if(t.go_to&&!i.fake){var r=t.go_to.split(":")[1],n=e.find((function(t){var e=t.id;return r===e}));n.isHidden&&(s=!0)}})),s&&o.push(new Promise((function(t,e){var o=i.pollData.id;(0,r.WY)(n.Z.baseUrl+"/poll/web/"+o,(function(e){var r=JSON.parse(e.responseText);t({response:r,answers:a})}),e)})))}))})),i=[],[4,Promise.all(o)];case 1:return a.sent().forEach((function(t){var e=t.response,r=t.answers;e.answers.forEach((function(t){var e=r.find((function(e){return e.id===t.id}));if(t.client_voted&&e.go_to){var n=e.go_to.split(":")[1];i=_(_([],i),[n])}}))})),[2,h(h({},t),{pages:t.pages.map((function(t){return h(h({},t),{isHidden:t.isHidden&&-1===i.indexOf(t.id)})}))})]}}))}))},o.prototype._parsedData=function(t,r){return g(this,void 0,void 0,(function(){var n,i,s,c;return m(this,(function(u){switch(u.label){case 0:return e.Z.log("StandardPlayerLayout._parsedData("+JSON.stringify({data:t,origin:r})+")"),(i=(n=t).npvid)?[3,1]:(e.Z.error("StandardPlayerLayout._parseData(). Not founded videoId."),[3,6]);case 1:if(!this._ids[i])return[3,6];if(!(s=n.storyMetadata))return[3,5];u.label=2;case 2:return u.trys.push([2,4,,5]),[4,o.transformStoryMedatada(s)];case 3:return c=u.sent(),n=h(h({},n),{storyMetadata:c}),[3,5];case 4:return u.sent(),[3,5];case 5:this._ids[i].frameData=n,this._ids[i].elements.forEach((function(t){var e=t.mark;e.getAttribute("data-onlyWithAdvert")||(0,a.Zs)(e,o.getIframeStyles(n,e.parentNode))})),this.trigger("Tracking",{eventName:"Init:IframeLoaded",data:n,container:this._type}),this.createPlayers(),u.label=6;case 6:return[2]}}))}))},o.prototype._handleGetMessage=function(t){var r=t.data,o=t.origin,i=n.Z.embedUrl||"*";if(i=i.replace(/(^\w+:|^)\/\//,""),o.replace(/(^\w+:|^)\/\//,"")===i&&r){var a=void 0;try{a=JSON.parse(r)}catch(t){return void e.Z.error("StandardPlayerLayout._parseData(). Failed parse: "+t+".")}var s=a.eventName;s?"loadData"===s?this._parsedData(a.data,o):"load"===s&&this.run():this._parsedData(a,o)}},o.getIframeStyles=function(t,e){var r=t.vqPlayback,n=t.mediaFiles,o=r&&r.find((function(t){return"aspect"===t.option.id}))||{option:{type:"video"}},i=9/16;if(n)for(var a=0;a<n.length;a+=1){var s=n[a],c=s.type,u=s.width,l=s.height;if("video/mp4"===c){i=l/u;break}}var f=o.option.type;"smart"===f&&(f="video",i>.75&&window.innerWidth>window.innerHeight&&(f="4/3"));var p={display:"block"};switch(f){case"square":return h(h({},p),{paddingBottom:"100%"});case"custom":var d=o.option;return u=d.width,l=d.height,h(h({},p),{width:u+"px",height:l+"px",paddingBottom:"0%"});case"container":return h(h({},p),{width:e.offsetWidth+"px",height:e.offsetHeight+"px",paddingBottom:"0%"});case"16/9":return h(h({},p),{paddingBottom:"56.25%"});case"9/16":return h(h({},p),{paddingBottom:16/9*100+"%"});case"4/3":return h(h({},p),{paddingBottom:"75%"});default:return h(h({},p),{paddingBottom:100*i+"%"})}},o.prototype._requestIframeData=function(t,r){var n=this;e.Z.log("StandardPlayerLayout._requestIframeData("+r+")");var o=this._ids[r],i=o.frameData,s=o.count;if(!i&&t.parentNode){if(t.contentWindow&&t.contentWindow.postMessage("requestData","*"),void 0===s)this._ids[r].count=0;else if(s>=100){if(e.Z.warn("StandardPlayerLayout._requestIframeData("+r+"). Iframe not responded. Timeout: 100."),-1!==t.src.indexOf("_"))return;return this._ids[r].count=0,t.src=t.src+"&_="+Date.now(),t.addEventListener("load",(function(){e.Z.log("StandardPlayerLayout._requestIframeData("+r+"). Iframe success loaded"),n._requestIframeData(t,r)})),void t.addEventListener("error",(function(){e.Z.error("StandardPlayerLayout._requestIframeData("+r+"). Iframe error loaded.")}))}this._ids[r].count+=1,(0,a.Ym)((function(){n._requestIframeData(t,r)}),100)}},o.createLabel=function(t){var e=t.videoId,o=t.profileId,i=t.presetId,s=t.container,c=t.playerId,u=t.params,l=t.content,f=t.showOnlyWithAdvert,p=t.customTag,d=document.createElement("div");-1!==t.parent.className.indexOf("viqeo-embed")?d=t.parent:d.className="viqeo-embed",d.setAttribute("data-vnd",e),d.setAttribute("data-profile",o),f&&d.setAttribute("data-onlyWithAdvert","1"),l&&d.setAttribute("data-content",l),p&&d.setAttribute("data-customTag",p);var y=t.parent.querySelector("iframe")||document.createElement("iframe");(0,a.Zs)(y,{border:"none"});var v=h(h({},u),{vid:e});i&&(v=h(h({},v),{presetId:i})),c&&(v=h(h({},v),{playerId:c}));var g=d.getAttribute("data-previewSrc");g&&(v=h(h({},v),{previewSrc:g}));var m=(0,r.o3)(n.Z.embedUrl+"/embed",v);s&&d.setAttribute("data-container",s),c&&d.setAttribute("data-playerId",c),y.src=m,y.allowFullscreen=!0,y.parentNode!==d&&(d.appendChild(y),(0,a.Zs)(d,{display:"none"})),delete t.parent;var _=d.getAttribute("data-original");if(_)try{_=JSON.parse(_)}catch(t){}return d.setAttribute("data-original",_?JSON.stringify(h(h({},t),_)):JSON.stringify(t)),d},o.replaceEmbedTag=function(t){var e=document.createElement("iframe");e.src=t.src,e.width=0,e.height=0,t.parentNode.appendChild(e)},o.prototype.findElements=function(t){var r=this;void 0===t&&(t=document.body);var n=t.querySelectorAll(".viqeo-embed[data-vnd]");!n.length&&t.classList.contains("viqeo-embed")&&(n=t.getAttribute("data-vnd")?[t]:[]),this.parseIds(n,"data-vnd"),Array.from(n).forEach((function(t){var e=t.getAttribute("data-vnd"),n=t.querySelector("embed");n&&o.replaceEmbedTag(n),r._ids[e].profileId=t.getAttribute("data-profile"),r._requestIframeData(t.querySelector("iframe"),e)}));var i=this.getNotLoadedIds();i.length&&(e.Z.log("StandardPlayerLayout Founded ids="+JSON.stringify(i)),this.loadData().then(this.dataLoaded.bind(this))),this.createPlayers()},o.prototype.dataLoaded=function(t){var e=this,r=t.players,n=t.role;r.forEach((function(t){e._ids[t.requestedParam].initData=h({},t),e._ids[t.requestedParam].elements.forEach((function(r){var o=r.getPlayer;o&&o.then((function(r){r.loadInit(h(h({},t),{data:e._ids[t.requestedParam].frameData})),"editor"===n&&r.forceResize()})).catch((function(t){return(0,s.o_)(t)}))}))}))},o.prototype.getPlayer=function(t,e){var n,o=e.getAttribute("data-original"),i=e.getAttribute("data-container"),a=e.getAttribute("data-playerId"),s=e.getAttribute("data-content"),c=(null===(n=e.querySelector("iframe"))||void 0===n?void 0:n.src)||"";o&&(o=JSON.parse(o));var u=t.showOnlyWithAdvert;return o&&void 0!==o.showOnlyWithAdvert&&(u=o.showOnlyWithAdvert),this.playersManager.createPlayer(h(h({},t),{showOnlyWithAdvert:u,container:i||this._type,swipeParams:null==o?void 0:o.swipeParams,playerId:a||t.playerId,paramsForGlobalEvent:{originalParams:o},disableAdvert:"negative"===s,params:h(h({},(0,r.en)(c)),(0,r.SP)(e))}))},o.prototype.getUrl=function(){var t=this.getNotLoadedIds(),e=this._ids[t[0]]?this._ids[t[0]].profileId:-1;return(0,r.o3)(n.Z.baseUrl+"/data/startup",{video:t,profile:e,referer:this.getReferer(),title:document.title})},o.prototype.createPlayer=function(t){var e=t.parent,r=o.createLabel(t);r.parentNode||e.appendChild(r)},o}(y),w=i(2285),P=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),A=function(t){var e=t.playerId,o=t.profileId,i=t.referer;return new Promise((function(t,a){(0,r.WY)(n.Z.baseUrl+"/profile/"+o+"/nextvideoblock?player_id="+e+"&block_length=1&referer="+i,(function(e){try{var r=JSON.parse(e.responseText),n=r.status,o=r.message;"error"!==n?t(r):a(new Error(o))}catch(t){a(new Error("Failed to parse profile json: "+t))}}))}))},S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P(e,t),e.prototype.run=function(){var t=this,e=document.body.querySelectorAll(".viqeo-embed[data-playerId]");Array.from(e).filter((function(t){return"1"!==t.getAttribute("data-parsed")&&!t.getAttribute("data-vnd")})).forEach((function(e){var n=(0,r.SP)(e),o=n.playerId,i=n.profile,a=n.uniqId;e.setAttribute("data-parsed","1"),function(t){var e,r,n,o,i=t.playerId,a=t.profileId,s=t.uniqId,c=t.container,u=t.referer;e=void 0,r=void 0,o=function(){var t,e,r,n,o,l,f;return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(p){switch(p.label){case 0:return[4,A({playerId:i,profileId:a,referer:u})];case 1:return t=p.sent(),e=t.items,r=t.meta,e&&(n=e[0])?(o=n.videoId,l=!!(null===(f=null==r?void 0:r.player_options)||void 0===f?void 0:f.show_only_with_advert),[4,window.VIQEO.createPlayer({uniqId:s,videoId:o,parent:c,container:w.Z.recommendPlayer,playerId:i,profileId:a,showOnlyWithAdvert:l})]):[2];case 2:return p.sent(),[2]}}))},new((n=void 0)||(n=Promise))((function(t,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(t){t(r)}))).then(a,s)}c((o=o.apply(e,r||[])).next())}))}({playerId:o,profileId:i,uniqId:a,container:e,referer:t.getReferer()})}))},e.createLabel=function(t){var e=t.profile,r=t.playerId,n=document.createElement("div");n.className="viqeo-embed";var o={playerId:r,profile:e};return Object.keys(o).forEach((function(t){o[t]&&n.setAttribute("data-"+t,o[t])})),delete t.parent,n.setAttribute("data-original",JSON.stringify(t)),n},e.prototype.createPlayer=function(t){var r=t.videoId,n=t.parent,o=t.playerId,i=t.profileId,a=document.createElement("div");a.className="viqeo-embed";var s={playerId:r||o,profile:i};Object.keys(s).forEach((function(t){s[t]&&a.setAttribute("data-"+t,s[t])})),delete t.parent,a.setAttribute("data-original",JSON.stringify(t)),n.appendChild(e.createLabel(s))},e}(y),T=S,O=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),x=function(){return x=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},x.apply(this,arguments)},E=function(t){var e=t.playerId,o=t.profileId,i=t.referer,a=t.externalVideos;return new Promise((function(t,s){var c={profile:o,referer:i,externalVideos:a,title:document.title};e&&(c.playerId=[e]),(0,r.WY)(n.Z.baseUrl+"/data/startup",(function(e){try{var r=JSON.parse(e.responseText),n=r.status,o=r.message;"error"!==n?t(r):s(new Error(o))}catch(t){s(new Error("Failed to parse profile json: "+t))}}),(function(){}),null,"POST",c)}))},I=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return O(n,t),n.createLabel=function(t){var e=t.profileId,n=t.playerId,o=t.previewSrc,i=t.videoSrc,a=document.createElement("div");a.className="viqeo-external_player";var s={videoSrc:"string"==typeof i?i:JSON.stringify(i),previewSrc:o?(0,r.aG)(o):"",playerId:n,profile:e,content:t.content};return Object.keys(s).forEach((function(t){s[t]&&a.setAttribute("data-"+t,s[t])})),delete t.parent,a.setAttribute("data-original",JSON.stringify(t)),a},n.prototype.start=function(t){var e=t.players,r=document.querySelector('script[src*="vq_init_external_player"]'),o=r.getAttribute("data-profile"),i=r.getAttribute("data-playerId");e.forEach((function(t){var e=t.selector,r=document.querySelector(e),a=n.createLabel(x(x({},t),{profileId:o,playerId:i}));r&&r.appendChild(a)})),this.run()},n.prototype.findElements=function(){var t=this,e=document.querySelectorAll(".viqeo-external_player");Array.from(e).filter((function(t){return"1"!==t.getAttribute("data-parsed")})).forEach((function(e){return function(t,e){return n=void 0,o=void 0,a=function(){var n,o,i,a,s,c,u,l,f,p;return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(d){switch(d.label){case 0:return t.className="viqeo-embed",t.setAttribute("data-parsed","1"),n=(0,r.SP)(t),o=n.playerId,i=n.profile,a=n.uniqId,s=n.videoSrc,c=n.content,u=n.previewSrc,t.setAttribute("data-original",JSON.stringify(n)),[4,E({playerId:o,profileId:i,externalVideos:[{videoSrc:(0,r.Rx)(s)||(0,r.aG)(s),previewSrc:u}],referer:e})];case 1:return l=d.sent().players,(f=l[0])?(p=f.data.npvid,VIQEO.createPlayer({videoId:p,playerId:o,profileId:i,parent:t,container:w.Z.extPlayer,uniqId:a,content:c}),[2]):[2]}}))},new((i=void 0)||(i=Promise))((function(t,e){function r(t){try{c(a.next(t))}catch(t){e(t)}}function s(t){try{c(a.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(r,s)}c((a=a.apply(n,o||[])).next())}));var n,o,i,a}(e,t.getReferer())}))},n.prototype.createPlayer=function(t){var r=t.videoId,o=t.parent,i=r;if("string"==typeof i)try{i=JSON.parse(r)}catch(t){i={videoSrc:r},e.Z.error("ExternalPlayerLayout. createPlayer(). "+t)}o.appendChild(n.createLabel(x(x({},t),i)))},n}(y),k=I,q=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),C=function(){return C=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},C.apply(this,arguments)};function j(t){var r=this;return new Promise((function(n,o){e.Z.log("GalleryLayout. parseData()");var i=t.getAttribute("data-playerId"),a=t.getAttribute("data-profileId");if(t.getAttribute("data-parsed"))o(new Error("Element parsed. playerId: "+i+", profileId: "+a));else{t.setAttribute("data-parsed",!0);var s=t.getAttribute("data-options")||"{}";e.Z.log("GalleryLayout. parseData(). Data parse. playerId: "+i+", profileId: "+a+", options: "+s);try{s=JSON.parse(s)}catch(t){s={},e.Z.error("GalleryLayout. parseData(). Error parse options: "+t.message)}i&&a?n(C({playerId:i,profileId:a,slot:t,referer:r.getReferer()},s)):o(new Error("Missing params: profileId: "+a+"; playerId: "+i))}}))}var L=function(t){return e.Z.log("GalleryLayout. createGallery()"),new Promise((function(e,r){Promise.all([i.e(348),i.e(623)]).then(i.bind(i,9367)).then((function(r){var n=r.default;return e(new n(t))})).catch((function(t){return r(new Error(t))}))}))};function N(t){e.Z.log("GalleryLayout. Gallery created"),this.trigger("Tracking",{eventName:"Gallery:added",gallery:t})}var M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return q(e,t),e.prototype.run=function(){var t=this,e=document.body.querySelectorAll(".viqeo-gallery");Array.from(e).filter((function(t){return!t.getAttribute("data-parsed")})).forEach((function(e){Promise.resolve(j.call(t,e)).then(L.bind(t)).then(N.bind(t)).catch((function(t){return(0,s.o_)(t)}))}))},e}(l),Z=M,D=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function R(t){var r=this;return new Promise((function(n,o){e.Z.log("StoryPreviewsWidgetLayout. parseData()");var i=t.getAttribute("data-playerId"),a=t.getAttribute("data-profileId");t.getAttribute("data-parsed")?o(new Error("Element parsed. playerId: "+i+", profileId: "+a)):(t.setAttribute("data-parsed",!0),e.Z.log("StoryPreviewsWidgetLayout. parseData(). Data parse. profileId: "+a+", data-playerId: "+i),a?n({profileId:a,playerId:i,slot:t,referer:r.getReferer()}):o(new Error("Missing params: profileId: "+a+";")))}))}var W=function(t){return e.Z.log("StoryPreviewsWidgetLayout. createStoryWidget()"),new Promise((function(e,r){Promise.all([i.e(348),i.e(317),i.e(288)]).then(i.bind(i,3502)).then((function(r){var n=r.default;return e(new n(t))})).catch((function(t){return r(new Error(t))}))}))};function V(t){var r=this;e.Z.log("StoryPreviewsWidgetLayout. Story previews widget created"),t.subscribe((function(e){return r.trigger("Tracking",{eventName:"Widget:init",widget:t,params:e})}),"init"),this.trigger("Tracking",{eventName:"StoryPreviewsWidget:added",widget:t})}var U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D(e,t),e.prototype.run=function(){var t=this,e=document.body.querySelectorAll(".viqeo-story-previews-widget");Array.from(e).filter((function(t){return!t.getAttribute("data-parsed")})).forEach((function(e){Promise.resolve(R.call(t,e)).then(W.bind(t)).then(V.bind(t)).catch((function(t){return(0,s.o_)(t)}))}))},e}(l),z=U,B=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B(e,t),e.prototype.run=function(){var t=this,e=document.body.querySelector(".viqeo-fly-widget");if(e){var r=e.getAttribute("data-playerId"),n=e.getAttribute("data-profileId"),o=e.getAttribute("data-uniqId");(0,a.GA)(e),i.e(719).then(i.bind(i,1986)).then((function(e){return(0,e.default)({playerId:r,profileId:n,uniqId:o,referer:t.getReferer(),onInit:function(e){t.trigger("Tracking",{eventName:"Widget:init",params:e})}})}))}},e.prototype.createPlayer=function(t){var e=document.createElement("div");e.className="viqeo-fly-widget",e.setAttribute("data-uniqId",t.uniqId),e.setAttribute("data-playerId",t.playerId),e.setAttribute("data-profileId",t.profileId),t.parent.appendChild(e)},e}(l),H=F,J=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y=function(t){var e=t.playerId,o=t.profileId,i=t.referer;return new Promise((function(t,a){(0,r.WY)(n.Z.baseUrl+"/data/startup",(function(e){try{var r=JSON.parse(e.responseText),n=r.status,o=r.message;"error"!==n?t(r):a(new Error(o))}catch(t){a(new Error("Failed to parse profile json: "+t))}}),(function(){}),null,"POST",{playerId:[e],profile:o,referer:i,externalVideos:[{videoSrc:"external_page:referer"}],title:document.title})}))};function G(t){var e,r=0,n=0,o=0,i=0,a=G.offsetBase;if(!a&&document.body&&(a=document.createElement("div"),G.offsetBase=a,a.style.cssText="position:absolute;left:0;top:0",document.body.appendChild(a)),t&&t.ownerDocument===document&&"getBoundingClientRect"in t&&a){var s=t.getBoundingClientRect(),c=a.getBoundingClientRect();e=!0,r=s.left-c.left,n=s.top-c.top,o=s.right-s.left,i=s.bottom-s.top}return{found:e,left:r,top:n,width:o,height:i,right:r+o,bottom:n+i}}var Q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.run=function(){var t=this,e=document.body.querySelectorAll(".viqeo-article-widget");e&&Array.from(e).forEach((function(e){var r,n,o,i,s,c,u,l,f,p;r={playerId:e.getAttribute("data-playerId"),profileId:e.getAttribute("data-profileId"),uniqId:e.getAttribute("data-uniqId"),container:e,referer:t.getReferer()},c=r.profileId,u=r.playerId,l=r.referer,f=r.uniqId,p=r.container,n=void 0,o=void 0,s=function(){var t,e,r,n,o,i,s,d,y,v,h,g;return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(m){switch(m.label){case 0:return[4,Y({profileId:c,playerId:u,referer:l})];case 1:return t=m.sent().players,(e=t[0])?(r=e.playerData,n=e.data.npvid,o=r.options,i=o.position,s=o.selector,d=p.querySelector("iframe"),y=p,"hover"===i&&(y=document.createElement("div"),(0,a.Zs)(y,{position:"absolute",top:-2e3,left:-2e3}),document.body.appendChild(y)),[4,window.VIQEO.createPlayer({uniqId:f,videoId:n,parent:y,container:w.Z.extPlayer,playerId:u,profileId:c,showOnlyWithAdvert:r.show_only_with_advert})]):((0,a.GA)(p),[2]);case 2:return v=m.sent(),h=function(){var t=document.querySelector(s);if(t&&!v.inMode("flying")){var e=G(t);v.setSize(e.width+1,e.height+1),(0,a.Zs)(y,{left:e.left+"px",top:e.top+"px"})}},g=function(){(0,a.GA)(d),p.setAttribute("style",""),"hover"===i&&(h(),window.addEventListener("resize",h))},v.subscribe(h,"flyingEnded"),v.hasReady()?g():v.hasReady()||v.subscribe(g,"Ready"),[2]}}))},new((i=void 0)||(i=Promise))((function(t,e){function r(t){try{c(s.next(t))}catch(t){e(t)}}function a(t){try{c(s.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(r,a)}c((s=s.apply(n,o||[])).next())}))}))},e.prototype.createPlayer=function(t){var e=document.createElement("div");e.className="viqeo-article-widget",e.setAttribute("data-uniqId",t.uniqId),e.setAttribute("data-playerId",t.playerId),e.setAttribute("data-profileId",t.profileId),t.parent.appendChild(e)},e}(l),K=Q,$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),X=function(){return X=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},X.apply(this,arguments)},tt=function(t){function e(){var e=t.call(this)||this;return e._modules={},e}return $(e,t),e.prototype._pushPlayer=function(t,e){var r=t.getSlotId();this._modules[r]?(this._modules[r].player=t,this._modules[r].params=this._modules[r].params||{}):this._modules[r]={player:t,params:{}},this._modules[r].params=X(X({},this._modules[r].params),e)},e.prototype.createPlayer=function(t){var e=this;return new Promise((function(r){Promise.all([i.e(348),i.e(70),i.e(317),i.e(747)]).then(i.bind(i,7808)).then((function(n){var o=new(0,n.default)(t);e._pushPlayer(o,{playerData:t.data}),r(o)}))}))},e.prototype.getPlayerBy=function(t){for(var e,r=this.getAllPlayers(),n=0;n<r.length;n+=1){var o=(e=r[n]).getParent();if(t.contains(o))break;e=null}return e},e.prototype.setLanguage=function(t){this.language=t},e.prototype.getPlayers=function(){var t=this._modules,e=[];return Object.keys(t).forEach((function(r){var n=t[r].player;e.push(n)})),e},e.prototype.getAllPlayers=function(){var t=this._modules,e=[];return Object.keys(t).forEach((function(r){e.push(t[r].player)})),e},e.prototype.getSlot=function(t){return t.getParent()},e.prototype.resize=function(){this.getAllPlayers().forEach((function(t){return t.forceResize()}))},e.prototype.destroy=function(t){var e=this._modules[t].player;e&&(e.destroy(),delete this._modules[t])},e.prototype.hide=function(){this.trigger("Tracking",{eventName:"Editor:RequestClosed"})},e}(c.Z),et=i(5940),rt=function(){function t(){}return t.prototype.removePlayer=function(){},t.prototype.setPlayer=function(){},t.prototype.destroy=function(){},t.prototype.setStartup=function(){},t}(),nt=function(){function t(t){this.viqeo=t,this._functionSubscibes=[],this._eventsList=[]}return t.prototype.subscribeTracking=function(t,e){this._functionSubscibes.push(t),this.viqeo.subscribeTracking(t,e)},t.prototype.addEvent=function(t,e,r,n){void 0===n&&(n=!1);var o=(0,a.W3)(t,e,r,n);this._eventsList.push({el:t,name:e,callback:o})},t.prototype.destroy=function(){var t=this;this._functionSubscibes.forEach((function(e){return t.viqeo.unsubscribeTracking(e)})),this._eventsList.forEach((function(t){var e=t.el,r=t.name,n=t.callback;e.removeEventListener(r,n)}))},t}(),ot=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),it=function(t){function e(e,r){void 0===r&&(r={});var n=t.call(this,e)||this;return n.totalTime=0,n._options=r,n}return ot(e,t),e.prototype.updateTime=function(t){this.totalTime+=t},e.prototype.beforeStartAdvert=function(){},e.prototype.getSumTime=function(){return new Promise((function(t){return t(0)}))},e}(nt),at=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return at(e,t),e.prototype.getSumTime=function(){var t=this;return new Promise((function(e){return e(t.totalTime)}))},e}(it),ct=st,ut=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),lt=function(){return lt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},lt.apply(this,arguments)};function ft(){var t=0;return this._players.forEach((function(e){var r=e.player;t+=r.getDuration()})),t}function pt(){var t=ft.call(this);return this._startAdvertAfter>=t?0:2}function dt(){var t=this,e=this._players.find((function(e){for(var r=e.player,n=r.getSlotId(),o=!1,i=0;!o&&i<t._data.length;)o=t._data[i].players.find((function(t){var e=t.data,r=t.requestedParam,o=t.disableAdvert;return(e?e.npvid:r)===n&&o}))||r.getMeta().disableAdvert,i+=1;return r.hasVisible()&&!o&&r.inStatus([et.Z.STARTED,et.Z.PLAYED,et.Z.REPLAYED])}));return e?e.player:null}function yt(){var t=dt.call(this),e=ft.call(this);return t&&this._startAdvertAfter>=e&&"loop"!==t.getPlaybackType("videofinished")?t.getDuration()-2:this._startAdvertAfter}function vt(){var t=dt.call(this),r=this._players.find((function(e){var r=e.player;return t===r}));if(r){r.inventarAdvertAfter+=this._advertInterval,this._inventarAdvertAfter+=this._advertInterval;var n=this._hasMultipleAdvert?t:this._mainAdvertPlayer,o=r.hasAdvertTrackInventory;this._hasMultipleAdvert||(o=this.hasAdvertTrackInventory),o||n&&(r.hasAdvertTrackInventory=!0,this.hasAdvertTrackInventory=!0,n.trigger("advStart"),e.Z.log("PageRollController._startAdvert(). Inventory.\n              time:"+r.time+"\n              videoId:"+t.getSlotId()+"\n              currentTime:"+t.getCurrentTime()))}}function ht(){var t=dt.call(this),r=this._players.find((function(e){var r=e.player;return t===r}));if(r){var n=r.hasAdvertStart;n||(n=this.hasAdvertStart),r.hasAdvertInit||!this._initData||n||(r.hasAdvertInit=!0,this._initData.creativeData.ignoreVisibleInventory=!1,this._hasMultipleAdvert&&!r.ignoreInventory&&(r.ignoreInventory=!0,this._initData.creativeData.ignoreVisibleInventory=!0),this._hasMultipleAdvert||this._mainAdvertPlayer||(this._mainAdvertPlayer=t,this._initData.creativeData.ignoreVisibleInventory=!0),t.initAdvert(),e.Z.log("PageRollController._requestAdvert().\n            time:"+r.time+"\n            videoId:"+t.getSlotId()+"\n             currentTime:"+t.getCurrentTime()))}}function gt(){var t=dt.call(this),r=this._players.find((function(e){var r=e.player;return t===r}));if(r){var n=r.hasAdvertStart;n||(n=this.hasAdvertStart),!n&&r.hasAdvertLoaded&&(r.hasAdvertStart=!0,this._controller.beforeStartAdvert(),t.startAdvert(),e.Z.log("PageRollController._startAdvert().\n              time:"+r.time+"\n              videoId:"+t.getSlotId()+"\n              currentTime:"+t.getCurrentTime()))}}function mt(){var t=this;this._timer||this._hasDestroyed||(e.Z.log("PageRollController._startTimer()"),this._timer=(0,a.dC)((function(){var e=dt.call(t),r=t._players.find((function(t){return t.player===e})),n=t._players.find((function(t){return t.hasAdvertStart}));!t._hasMultipleAdvert&&n||e&&(r.time+=.5,t._controller.updateTime(.5,e.getSlotId()),r.needStart?(vt.call(t),ht.call(t),gt.call(t)):t._hasMultipleAdvert?((r.time>=r.loadAdvertAfter||r.startAdvertAfter<=r.loadAdvertAfter)&&ht.call(t),r.time>=r.inventarAdvertAfter&&vt.call(t),r.time>=r.startAdvertAfter&&gt.call(t)):t._controller.getSumTime().then((function(r){(r>=t._loadAdvertAfter||t._startAdvertAfter<=t._loadAdvertAfter)&&ht.call(t),e.getCurrentTime()>pt.call(t)&&e.getDuration()-e.getCurrentTime()>pt.call(t)&&r>=yt.call(t)&&(vt.call(t),gt.call(t))})).catch((function(){t.destroy()})))}),500))}function _t(){this._countAdvStarted+=1,this._recurrentAdvertLimitEnable&&this._countAdvStarted>=this._recurrentAdvertLimit&&this.destroy()}function bt(t){this._players.find((function(e){var r=e.player;return t===r})).hasAdvertLoaded=!0}function wt(t){if(this._advertInterval){if(this._hasMultipleAdvert){var r=this._players.find((function(e){return e.player===t}));Object.assign(r,this._defaultItemOptions),r.startAdvertAfter+=this._advertInterval,r.loadAdvertAfter=r.startAdvertAfter-3}else this._startAdvertAfter+=this._advertInterval,this._loadAdvertAfter=this._startAdvertAfter-3,r=this._players.find((function(e){return e.player===t})),Object.assign(r,this._defaultItemOptions);this.hasAdvertStart=!1,this.hasAdvertTrackInventory=!1}else e.Z.log("PageRollController._onAdvEnded().\n            videoId:"+t.getSlotId()+"\n            currentTime:"+t.getCurrentTime()+". Interval: "+this._advertInterval)}function Pt(t){e.Z.log("PageRollController._onAdvError().\n            videoId:"+t.getSlotId()+"\n             currentTime:"+t.getCurrentTime()),wt.call(this,t);var r=window[this._noAdCallbackName];this._noAdCallbackName&&"function"==typeof r&&(r(),t.destroy()),this._countAdvError+=1,this._recurrentLoadedAdvertLimitEnable&&this._countAdvError>=this._recurrentLoadedAdvertLimit&&(e.Z.log("PageRollController._onAdvError(). Error limit exceeded: "+this._recurrentLoadedAdvertLimit),this.destroy())}var At=function(t){function o(r){var n=t.call(this,r)||this,o=r.data,i=r.players,a=r.viqeo,s=r.controller,c=r.vnData;return e.Z.log("PageRollController.constructor({\n      data: "+JSON.stringify(o)+",\n      players: ["+i.map((function(t){return t.getSlotId()})).join(" ")+"] }),\n    }"),n._startAdvertAfter=null,n._loadAdvertAfter=null,n._inventarAdvertAfter=null,n._initData=null,n._players=[],n._hasMultipleAdvert=!1,n._controller=s||new ct(a),n._data=[],n.vnData=c,n._advertInterval=null,n._defaultItemOptions={hasAdvertInit:!1,hasAdvertStart:!1,hasAdvertLoaded:!1,hasAdvertTrackInventory:!1,needStart:!1},n.hasAdvertStart=!1,n.hasAdvertTrackInventory=!1,n._mainAdvertPlayer=null,n._noAdCallbackName="",n._closeNoAdCallbackName="",n._recurrentAdvertLimitEnable=!1,n._recurrentAdvertLimit=0,n._countAdvStarted=0,n._countAdvError=0,n._hasDestroyed=!1,n.setData(o),i.forEach((function(t){return n.setPlayer(t)})),n}return ut(o,t),o.prototype.removePlayer=function(t){var e=this._players.findIndex((function(e){return e.player===t}));-1!==e&&this._players.splice(e,1)},o.prototype.setPlayer=function(t){var r=this;e.Z.log("PageRollController.setPlayer("+JSON.stringify(t.getSlotId())+")"),t.update({advertInit:this._initData}),t.subscribe(mt.bind(this),"videoStarted"),t.subscribe((function(){return _t.call(r,t)}),"advStarted"),t.subscribe((function(){return bt.call(r,t)}),"advLoaded"),t.subscribe((function(){return wt.call(r,t)}),"advEnded"),t.subscribe((function(){return Pt.call(r,t)}),"advError"),t.subscribe((function(){var t=window[r._closeNoAdCallbackName];if("function"==typeof t)try{t()}catch(t){e.Z.log("PageRollController.closeTwWidget error.")}}),"closeTwWidget"),this._players.push(lt(lt({player:t,time:0},this._defaultItemOptions),{startAdvertAfter:this._startAdvertAfter,loadAdvertAfter:this._loadAdvertAfter,inventarAdvertAfter:this._startAdvertAfter}))},o.prototype.setStartup=function(t){this._data.push(t)},o.prototype.setData=function(t){var o=this,i=t.pageRollAdvert,a=void 0===i?{}:i;e.Z.log("PageRollController._startupLoaded("+JSON.stringify(a)+")");var s=a.startAdvertAfter,c=a.loadAdvertAfter,u=a.hasMultipleAdvert,l=a.dataUrl,f=a.moduleUrl,p=a.advertInterval,d=a.noAdCallbackName,y=a.closeNoAdCallbackName,v=a.recurrentAdvertLimit,h=a.recurrentAdvertLimitEnable,g=a.recurrentLoadedAdvertLimit,m=a.recurrentLoadedAdvertLimitEnable;this._data=[t],this._startAdvertAfter="number"==typeof s?s:15,this._loadAdvertAfter=c||3,this._inventarAdvertAfter=this._startAdvertAfter,this._hasMultipleAdvert=u,this._advertInterval=p,this._noAdCallbackName=d,this._closeNoAdCallbackName=y,this._recurrentAdvertLimit=v,this._recurrentAdvertLimitEnable=h,this._recurrentLoadedAdvertLimitEnable=m,this._recurrentLoadedAdvertLimit=g,this._players.forEach((function(t){t.startAdvertAfter=t.startAdvertAfter||o._startAdvertAfter,t.loadAdvertAfter=t.loadAdvertAfter||o._loadAdvertAfter,t.inventarAdvertAfter=t.inventarAdvertAfter||o._startAdvertAfter}));var _=n.Z.advertModuleUrl||f;_?(0,r.ve)(n.Z.proxyUrl+"/?url="+(0,r.aG)(_),(function(){o._initData={creativeData:{dataUrl:n.Z.advertDataUrl||l,vnData:o.vnData},environmentVars:{forceFormat:{name:"ViqeoPlayerRoll"},format:{name:"viqeoplayerroll"}}},o._players.forEach((function(t){return t.player.update({advertInit:o._initData})}))}),(function(){return o.destroy()})):this.destroy()},o.prototype.destroy=function(){e.Z.log("PageRollController.destroy()"),this._hasDestroyed=!0,this._controller.destroy(),clearInterval(this._timer),this._timer=null},o}(rt),St=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tt=function(t){function e(e){var o=t.call(this,e)||this,i=e.data.pageRollAdvert,a=void 0===i?{}:i,s=e.players,c=a.dataUrl,u=a.moduleUrl,l=n.Z.advertModuleUrl||u;return o._pageRollAdvert=a,o._players=[],(0,r.ve)(n.Z.proxyUrl+"/?url="+(0,r.aG)(l),(function(){o._initData={creativeData:{dataUrl:n.Z.advertDataUrl||c},environmentVars:{forceFormat:{name:"ViqeoPlayerRoll"},format:{name:"viqeoplayerroll"}}},o._players.forEach((function(t){t.update({advertInit:o._initData,advertOptions:o._pageRollAdvert}),t.initAdvert()}))}),(function(){return o.destroy()})),s.forEach((function(t){return o.setPlayer(t)})),o}return St(e,t),e.prototype.setPlayer=function(t){this._players.push(t),t.update({advertInit:this._initData,advertOptions:this._pageRollAdvert}),this._initData&&t.initAdvert()},e}(rt),Ot=i(342),xt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Et=function(){return Et=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Et.apply(this,arguments)};function It(){var t=this._options;return t.url+"+"+t.pageViewId}function kt(){var t=this;return e.Z.log("AmpController loadInfo()"),new Promise((function(o,i){(0,r.WY)(n.Z.ampAdvertUrl+"/v1/amp/get",(function(t){try{var r=JSON.parse(t.responseText);if(e.Z.log("AmpController success loadInfo() "+t.responseText),"error"===r.status)return void i(r.message);o(r)}catch(t){e.Z.log("AmpController failed parse loadInfo() "+t),i(new Error(""+t))}}),(function(t){e.Z.log("AmpController failed loadInfo() "+t),i(t)}),!1,"POST",{id:It.call(t)})}))}function qt(t){var r=t.player;this._hasPlaying||(this._hasPlaying=!0,e.Z.log("AmpController playerPlaying("+r.getSlotId()+")"),this._stateLoad=kt.call(this))}function Ct(t){var r=this,n=t.player;this._hasPlaying&&(this._hasPlaying=!1,e.Z.log("AmpController playerStopped("+n.getSlotId()+")"),this._stateLoad.then((function(t){var e=t.data,o=e.totalTime;e.advertStarted||r._trackDebounce({videoId:n.getSlotId(),time:r.totalTime+o}),r.totalTime=0})),this._stateLoad=null)}function jt(t){var e=this,r=t.data,n=r.advertStarted,o=r.totalTime;return new Promise((function(t,r){n?r():t(o+e.totalTime)}))}function Lt(t){var o=JSON.stringify(t);this._trackCaches[o]?e.Z.log("AmpController track("+o+") cached"):(this._trackCaches[o]=!0,e.Z.log("AmpController track("+o+")"),(0,r.WY)(n.Z.ampAdvertUrl+"/v1/amp/track",(function(t){e.Z.log("AmpController success track() "+t.responseText)}),(function(t){e.Z.log("AmpController failed track() "+t)}),!1,"POST",[Et(Et({},t),{id:It.call(this)})]))}function Nt(){e.Z.log("AmpController startAdvert()"),(0,r.WY)(n.Z.ampAdvertUrl+"/v1/amp/adv",(function(t){e.Z.log("AmpController success startAdvert() "+t.responseText)}),(function(t){e.Z.log("AmpController failed track() "+t)}),!1,"POST",{id:It.call(this)}),this.destroy()}var Mt=function(t){function r(r,n){var o=t.call(this,r,n)||this;return o._trackCaches={},o._hasPlaying=!1,o._stateLoad=null,o._trackDebounce=(0,Ot.P)(2e3,Lt.bind(o)),e.Z.log("AmpController.constructor(viqeo, "+JSON.stringify(n)+")"),o.subscribeTracking(qt.bind(o),{eventName:["Player:started","Player:played","Player:replayed"]}),o.subscribeTracking(Ct.bind(o),{eventName:["Player:ended","Player:paused"]}),o}return xt(r,t),r.prototype.beforeStartAdvert=function(){Nt.call(this)},r.prototype.updateTime=function(r,n){var o=this;e.Z.log("AmpController.updateTime("+r+", "+n+")"),t.prototype.updateTime.call(this,r,n),this._stateLoad?this._stateLoad.then((function(t){var e=t.data,r=e.totalTime;e.advertStarted||o._trackDebounce({videoId:n,time:o.totalTime+r})})):e.Z.log("AmpController.updateTime("+r+", "+n+") not load info")},r.prototype.getSumTime=function(){return Promise.resolve(this._stateLoad).then(jt.bind(this))},r}(it),Zt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dt=function(){return Dt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Dt.apply(this,arguments)};function Rt(t){var e=t.player,r=parseInt(e.getProfileId(),10);this._pagesRolls[r]&&this._pagesRolls[r].removePlayer(e),this._players=this._players.filter((function(t){return t!==e}))}function Wt(t){var e=t.player,r=parseInt(e.getProfileId(),10);this._pagesRolls[r]?this._pagesRolls[r].setPlayer(e):this._players.push(e)}function Vt(t){var e=t.profileId,r=t.data,n=parseInt(e,10);if(this._pagesRolls[n])this._pagesRolls[n].setStartup(r);else{var o=r.pageRollAdvert.showInterstitial,i=this._players.filter((function(t){return parseInt(t.getProfileId(),10)===n}));this._pagesRolls[n]=o?new Tt({data:r,players:i}):new At({viqeo:this._viqeo,controller:this._controller,vnData:this._vnData[n],data:r,players:i})}}function Ut(t){var e=t.options,r=e.amp,n=e.url;r&&(this._controller=new Mt(this.viqeo,Dt(Dt({},r),{url:n})))}function zt(t){var e=t.options,r=parseInt(e.profileId,10);this._vnData[r]=e.vnData}var Bt=function(t){function e(e){var r=t.call(this,e)||this;return r._pagesRolls={},r._players=[],r._controller=null,r._vnData={},r._initEvents(),r}return Zt(e,t),e.prototype._initEvents=function(){this.subscribeTracking(Vt.bind(this),"Init:StartupDataLoaded"),this.subscribeTracking(Wt.bind(this),"Player:added"),this.subscribeTracking(Rt.bind(this),"Player:destroyed"),this.subscribeTracking(Ut.bind(this),"ConfigUpdated"),this.subscribeTracking(zt.bind(this),"RequestCreatePlayer")},e}(nt),Ft=i(7289),Ht=i(8463),Jt=i(8197),Yt=i.n(Jt),Gt=i(129),Qt=i(6511),Kt=i.n(Qt),$t=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xt=function(){return Xt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Xt.apply(this,arguments)},te={floatingRight:"3%",floatingBottom:"4%"},ee="viqeo-flyPlayer_close",re="viqeo-flyPlayer_container",ne="viqeo-flyPlayer_overlayBlock",oe="viqeo-flyPlayer",ie="viqeo-flyPlayer_custom-style",ae=[w.Z.stdPlayer,w.Z.extPlayer,w.Z.recommendPlayer],se=function(t){var e=Xt({},t),r=document.documentElement.clientHeight;if(e.enableCloseButton&&e.floatingTop){var n=/%/.test(e.floatingTop)?parseInt(e.floatingTop,10)*r/100:parseInt(e.floatingTop,10);n<20&&(e=Xt(Xt({},t),{floatingTranslateY:20-n}))}return e.horizontalCentering?Xt(Xt({},e),{floatingLeft:"",floatingRight:"50%",floatingTranslateX:e.floatingWidth/2}):e},ce=function(t){function n(e){var r=t.call(this,e)||this;return r._config={floatingWidth:230,floatingTop:"",floatingRight:"",floatingBottom:"",floatingLeft:"",playerNumber:0,playerDesktopFactor:.25,playerMobileFactor:.25,floatingTranslateX:0,floatingTranslateY:0,slotBackground:"",horizontalCentering:!1,text:"",enableText:!1,enableCloseButton:!0},r._flyPlayer=null,r._hasCollapsed=!1,r._hasVisible=!1,r._configLoaded=!1,r._players=[],r._backgroundOptions={},r._initEvents(),r}return $t(n,t),n.prototype._initEvents=function(){var t=this;this.subscribeTracking((function(e){var r=e.options.flyPlayer;"object"==typeof r?t._config=se(Xt(Xt({},t._config),r)):"boolean"==typeof r&&(t._config=se(Xt(Xt({},t._config),te))),r&&(t._forceCreate=!!r,t._configLoaded=!0,t._run())}),"ConfigUpdated"),this.subscribeTracking(this._playerAdded.bind(this),{eventName:"Player:added",container:ae}),this.subscribeTracking(this._updatePlayerType.bind(this),{eventName:"Player:updateType",container:ae}),this.subscribeTracking(this._visibilityChanged.bind(this),{eventName:"Player:firstShowing",container:ae}),this.subscribeTracking(this._onFullScreenEnd.bind(this),{eventName:"Player:fullscreenEnded",container:ae}),this.addEvent(window,"scroll",this._onScroll.bind(this))},n.prototype._updatePlayerType=function(t){var e=t.player;this._flyPlayer===e&&this._hasCollapsed&&this._config.enableText&&(0,a.Zs)(e.getContainer(),{zIndex:e.getMeta().story?300:1})},n.prototype._onFullScreenEnd=function(){var t=this._flyPlayer;if(t&&this._hasCollapsed){var e=this._config.floatingWidth;t.setSize(e,Ft.ai?e:e*(3/4))}},n.prototype._getTextContainerWidth=function(t){var e=document.documentElement,n=e.clientWidth,o=e.clientHeight,i=this._config,a=i.enableText,s=i.floatingWidth,c=i.floatingLeft,u=i.floatingRight,l=i.horizontalCentering;if(n/o>=1||!a)return s;if(l)return n-t.getSize().width;var f,p=(0,r.Ug)(c||u);return f=/%/.test(p)?parseInt(p,10)*n*2:2*parseInt(p,10),n-t.getSize().width-f},n.prototype._getTextPosition=function(){var t=document.documentElement,e=t.clientWidth,r=t.clientHeight,n=this._config,o=n.floatingLeft,i=n.horizontalCentering;return n.enableText?e/r>=1?"top":""!==o||i?"right":"left":"none"},n.prototype._collapse=function(t,e){var n=this;void 0===e&&(e=!1);var o=this._config,i=o.floatingWidth,s=o.floatingTop,c=o.floatingRight,u=o.floatingBottom,l=o.floatingLeft,f=o.slotBackground,p=o.floatingTranslateX,d=o.floatingTranslateY,y=o.enableText,v=t.getParent(),h=t.getWrapper(),g=t.getSize(),m=g.height,_=g.width;t.startFly(),(0,a.Zs)(v,{width:_+"px",height:m+"px",background:f}),t.setSize(i,i/(t.getSize().width/t.getSize().height)+"px"),(0,a.Zs)(h,{position:"fixed",opacity:e?1:0,top:(0,r.Ug)(s),right:(0,r.Ug)(c),bottom:(0,r.Ug)(u),left:(0,r.Ug)(l),transform:"translate("+(0,r.Ug)(p)+", "+(0,r.Ug)(d)+")",zIndex:Gt.Z.flyPlayer}),v.classList.add(ie),h.classList.add(oe),e||(0,a.Ym)((function(){(0,a.Zs)(h,{opacity:1,transition:"opacity 2s"})}),0);var b=h.querySelector("."+re),w=h.querySelector("."+ne),P=h.querySelector("."+ee);b||(this._backgroundOptions=t.getControl("background"),t.updateControl("background",{type:"blurry"}),t.getWrapper().insertAdjacentHTML("afterBegin",Yt().template(Kt())(Xt(Xt({},this._config),{text:this._config.text||t.getMeta().title||"",playerHeight:t.getSize().height,width:this._getTextContainerWidth(t),position:this._getTextPosition()}))),P=h.querySelector("."+ee),b=h.querySelector("."+re),w=h.querySelector("."+ne),this.addEvent(w,"click",(function(e){e.target.classList.contains("viqeo-flyPlayer_overlayBlock-wrapper")||t.requestFullScreen()})),this.addEvent(P,"click",(function(e){e.stopPropagation(),n._expand(t),n.destroy()}))),(0,a.Zs)([b,w],{display:"block"}),t.getMeta().story&&y&&(0,a.Zs)(t.getContainer(),{zIndex:300}),t.getMeta().story&&(0,a.Zs)(w,{zIndex:0}),this._hasCollapsed=!0},n.prototype._expand=function(t){var e=t.getParent(),r=t.getWrapper();r.classList.remove(oe),e.classList.remove(ie),t.endFly(),(0,a.Zs)(r,{position:"relative",transition:"",opacity:1,top:"",right:"",bottom:"",left:"",transform:"translate(0, 0)"});var n=r.querySelector("."+re),o=r.querySelector("."+ne);n&&o&&(0,a.Zs)([n,o],{display:"none"}),t.updateControl("background",this._backgroundOptions),t.forceResize(),(0,a.Zs)(e,{width:"100%",height:"100%"}),this._hasCollapsed=!1},n.prototype._onScroll=function(){if(this._flyPlayer&&this._hasVisible){var t=(0,a.wH)(this._flyPlayer.getParent()),e=(0,a.wH)(this._flyPlayer.getContainer()),r=this._config,n=r.playerDesktopFactor,o=r.playerMobileFactor,i=Ft.ai?o:n;!this._hasCollapsed&&e<=i?this._collapse(this._flyPlayer):this._hasCollapsed&&t>=i&&this._expand(this._flyPlayer)}},n.prototype._visibilityChanged=function(t){var e=t.player;this._flyPlayer&&this._flyPlayer===e&&!this._hasVisible&&(this._hasVisible=!0)},n.prototype._isSupport=function(t){var e=(0,Ht.YV)(t,Ft.ai?"flying_mode_mobile_enable":"flying_mode_desktop_enable"),r=(0,Ht.YV)(t,Ft.ai?"flying_mode_mobile":"flying_mode_desktop");return e&&e.value&&r&&r.value},n.prototype._setConfig=function(t){var r=(0,Ht.YV)(t,Ft.ai?"flying_mode_mobile":"flying_mode_desktop");e.Z.log("FlyPlayerController._playerAdded(). Config: "+JSON.stringify(r)),this._configLoaded=!0,r&&r.value&&(this._config=se(Xt(Xt(Xt({},this._config),{enableCloseButton:!1}),r.value)))},n.prototype._playerAdded=function(t){var e=t.player,r=t.data;(this._isSupport(r)||this._forceCreate)&&(this._setConfig(r),this._players.push({player:e}),this._run())},n.prototype._run=function(){if(this._configLoaded&&!this._flyPlayer){var t=this._config.playerNumber,e=this._players.map((function(t){return t.player}))[t];e&&(this._flyPlayer=e,this._hasVisible||(this._hasVisible=this._flyPlayer.hasVisible()))}},n}(nt),ue=ce,le=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),fe=function(){return fe=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},fe.apply(this,arguments)},pe=[3,5,10,15,20,30,60,90,120,180,300,600,1200],de=function(t){function o(e){var r=t.call(this,e)||this;return r._queueEvents=[],r._trackerParams={},r._playerTrackerParams={},r._dataInit={},r._data=[],r._players={},r._mutedTimer=null,r._events=[{playerName:"Player:galleryStarted",trackingName:"videomode"},{playerName:"Player:videoPaused",trackingName:"pause"},{playerName:"Player:videoPlayed",trackingName:"resume"},{playerName:"Player:rewind",trackingName:"rewind"},{playerName:"Player:videoStarted",trackingName:"start"},{playerName:"Player:ended",trackingName:r._videoEnded.bind(r)},{playerName:"Player:videoReplayed",trackingName:"replay"},{playerName:"Player:firstShowing",trackingName:"visible"},{playerName:"Player:advStarted",trackingName:"adv"},{playerName:"Player:advStart",trackingName:"advVisible"},{playerName:"Player:fullscreenStarted",trackingName:"fullscreen"},{playerName:"Player:autoplayDisabled",trackingName:"autoplayBlocked"},{playerName:"Player:userAction",trackingName:r._userActionTracking.bind(r)},{playerName:"Player:currentTimeUpdated",trackingName:r._currentTimeUpdated.bind(r)},{playerName:"Widget:init",trackingName:r._initStoryWidget.bind(r)},{playerName:"Player:storyLinkClicked",trackingName:"story_link_click"},{playerName:"Player:muted",trackingName:r._playerChangeMuted.bind(r,!0)},{playerName:"Player:unmuted",trackingName:r._playerChangeMuted.bind(r,!1)}],(0,a.dC)(r._checkTime.bind(r),500),r.subscribeTracking(r._eventTriggered.bind(r)),r.subscribeTracking(r._startupLoaded.bind(r),"Init:StartupDataLoaded"),r.subscribeTracking(r._playerAdded.bind(r),"Player:added"),r.subscribeTracking(r._playerDestroyed.bind(r),"Player:destroyed"),r.subscribeTracking(r._slotIdUpdated.bind(r),"Player:slotIdUpdated"),r}return le(o,t),o.prototype._playerChangeMuted=function(t,e){var r=this,n=e.player,i=e.container;t?(this._mutedTimer&&(clearTimeout(this._mutedTimer),this._mutedTimer=null),this.send(fe({event:"mute",container:o.normalizeValue(i)},this.getPlayerParams(n)))):this._mutedTimer=setTimeout((function(){r.send(fe({event:"unmute",container:o.normalizeValue(i)},r.getPlayerParams(n)))}),1e3)},o.prototype._initStoryWidget=function(t){var e=t.params;(0,r.qE)((0,r.o3)(n.Z.statsUrl+"/stats",o.normalizeDataForServer(fe(fe({},e),{pageType:this._getPageType()}))))},o.prototype._playerAdded=function(t){var e,r=t.player,n=t.container,o=r.getSlotId();this._players[o]||(this._players[o]={player:r,firstQuartile:!1,midpoint:!1,thirdQuartile:!1,complete:!1,lastTime:0}),this._data.push({player:r,container:n,currentTime:0,lastTime:0}),this._dataInit[r.getProfileId()]&&this.send(fe(fe({},this._dataInit[r.getProfileId()]),{customTag:r.getMeta().createdParams.customTag,storyId:null===(e=this._playerTrackerParams[o])||void 0===e?void 0:e.storyId,videoId:o}))},o.prototype._slotIdUpdated=function(t){var r=this,n=t.player,o=t.trackingParams,i=void 0===o?{}:o,a=n.getSlotId(),s=Object.keys(this._players).find((function(t){return r._players[t].player===n}));if(e.Z.log("TrackerController._slotIdUpdated(). newNpvid: "+a+", oldNpvid: "+s),s){this._players[a]={player:this._players[s].player,firstQuartile:!1,midpoint:!1,thirdQuartile:!1,complete:!1,lastTime:0},this._playerTrackerParams[a]=fe(fe({},this._playerTrackerParams[s]),i);var c=this._data.findIndex((function(t){return t.player===n}));this._data[c]&&(this._data[c].currentTime=0,this._data[c].lastTime=0)}},o.prototype._playerDestroyed=function(t){for(var e=t.player,r=0;r<this._data.length;r+=1)this._data[r].player===e&&this._data.splice(r,1)},o.prototype._startupLoaded=function(t){var e=this,r=t.data,n=r.trackingParams,o=r.players,i=r.init,a=t.profileId;this._trackerParams[a]=n,o.forEach((function(t){var r=t.requestedParam,n=t.data,o=t.trackingParams,i=n?n.npvid:r;e._playerTrackerParams[i]=o})),this._dataInit[a]||(this._dataInit[a]=i,this.send(i),this._data.forEach((function(t){var r,n=t.player;return e.send(fe(fe({},i),{customTag:n.getMeta().customTag,storyId:null===(r=e._playerTrackerParams[n.getSlotId()])||void 0===r?void 0:r.storyId,videoId:n.getSlotId()}))})));var s=Array.from(this._queueEvents);this._queueEvents=[],s.forEach((function(t){var r=t.videoId;e.send(fe(fe(fe({},t),{rand:e._playerTrackerParams[r]?e._playerTrackerParams[r].rand:null}),e._playerTrackerParams[r]))}))},o.prototype.getReferer=function(){var t=this.viqeo._config.url;if(t)return t;if(window.top===window)return window.location.href;try{return window.top.location.href}catch(t){e.Z.error("TrackerController.getReferer()")}return window.location.href},o.normalizeValue=function(t){return t.replace(/([A-Z])/g,(function(t){return"_"+t.toLowerCase()}))},o.normalizeDataForServer=function(t){var e={};return Object.keys(t).forEach((function(r){e[o.normalizeValue(r)]=t[r]})),e},o.prototype.getPlayerParams=function(t){var e=t.getSlotId();return fe(fe({customTag:t.getMeta().createdParams.customTag,profileId:t.getProfileId(),rand:this._playerTrackerParams[e]?this._playerTrackerParams[e].rand:null},this._playerTrackerParams[e]),{videoId:e})},o.prototype._getPageType=function(){var t=this.viqeo._config,e=t.amp,r=t.standalone,n=t.webview;return e?"amp":r?"embed":n?"webview":"web"},o.prototype.send=function(t){if(t.rand){var e=t.profileId,i=o.normalizeDataForServer(fe(fe({referer:this.getReferer(),pageType:this._getPageType()},this._trackerParams[e]),t));(0,r.qE)((0,r.o3)(n.Z.statsUrl+"/stats",i)),"start"===t.event&&(0,r.qE)((0,r.o3)(n.Z.baseUrl+"/data/track",{npvid:t.videoId,user_key:this._trackerParams[e].userKey,event:"start"}))}else this._queueEvents.push(t)},o.prototype._checkTime=function(){var t=this;this._data.forEach((function(e,r){var n=e.player,i=e.currentTime,a=e.lastTime,s=e.container;n.inStatus([et.Z.PLAYED,et.Z.REPLAYED,et.Z.STARTED])&&(t._data[r].currentTime+=.5,pe.forEach((function(e){a<e&&i>=e&&(t._data[r].lastTime=i,t.send(fe({event:e+"s",container:o.normalizeValue(s)},t.getPlayerParams(n))))})))}))},o.prototype._eventTriggered=function(t){var e=this,r=t.eventName,n=t.player,i=t.container;this._events.forEach((function(a){var s=a.playerName,c=a.trackingName;r===s&&("string"==typeof c?e.send(fe({event:c,container:o.normalizeValue(i)},e.getPlayerParams(n))):"function"==typeof c&&c(t))}))},o.prototype._userActionTracking=function(t){var e=t.player,r=t.container,n=t.trackingParams,i=n.name;n.disablePing||this.send(fe({event:"action"+i,container:o.normalizeValue(r)},this.getPlayerParams(e)))},o.prototype._currentTimeUpdated=function(t){var r=t.player,n=t.container,i=r.getCurrentTime(),a=r.getSlotId(),s=r.getDuration();if(this._players[a]){var c=this._players[a],u=c.firstQuartile,l=c.midpoint,f=c.thirdQuartile,p=c.lastTime;!u&&p<.25*s&&i>=.25*s&&(this._players[a].firstQuartile=!0,this.send(fe({event:"firstQuartile",container:o.normalizeValue(n)},this.getPlayerParams(r))),r.trigger("firstQuartile")),!l&&p<.5*s&&i>=.5*s&&(this._players[a].midpoint=!0,this.send(fe({event:"midpoint",container:o.normalizeValue(n)},this.getPlayerParams(r))),r.trigger("midpoint")),!f&&p<.75*s&&i>=.75*s&&(this._players[a].thirdQuartile=!0,this.send(fe({event:"thirdQuartile",container:o.normalizeValue(n)},this.getPlayerParams(r))),r.trigger("thirdQuartile")),this._players[a].lastTime=i}else e.Z.error("TrackerController._currentTimeUpdated(). Not exist: "+a)},o.prototype._videoEnded=function(t){var e=t.player,r=t.container,n=e.getSlotId();this._players[n].complete||(this._players[n].complete=!0,this.send(fe({event:"complete",container:o.normalizeValue(r)},this.getPlayerParams(e))))},o}(nt),ye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ve=function(t){function e(e){var r=t.call(this,e)||this;return r._players=[],r._initEvents(),r}return ye(e,t),e.prototype._initEvents=function(){this.subscribeTracking(this._addedPlayer.bind(this),"Player:added"),this.subscribeTracking(this._selectedQuality.bind(this),"Player:qualitySelected"),this.subscribeTracking(this._settingsPanelOpened.bind(this),"Player:settingsPanelOpened")},e.prototype._addedPlayer=function(t){var e=t.player;this._players.push(e)},e.prototype._selectedQuality=function(t){this._players.forEach((function(e){e!==t.player&&e.setQuality(t.trackingParams.quality)}))},e.prototype._settingsPanelOpened=function(t){this._players.forEach((function(e){e!==t.player&&e.hideSettingsPanel()}))},e}(nt),he=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function ge(){e.Z.log("VisiblePlayerController.createScrollObservable()");var t=(0,Ot.P)(300,this.updateVisible.bind(this));this.subscribeTracking((function(){return t()}),"Player:added"),this.subscribeTracking((function(){return t()}),"Player:destroyed"),this.subscribeTracking(this._checkConfig.bind(this),"ConfigUpdated"),this.subscribeTracking(t,"Player:changedSize"),this.subscribeTracking((function(){t(),(0,a.Ym)((function(){return t()}),100)}),"Player:videoLoaded"),this.subscribeTracking((function(){t(),(0,a.Ym)((function(){return t()}),100)}),"Editor:Show"),this.subscribeTracking(t,"Editor:Hidden"),this.subscribeTracking(t,"Player:forcePause"),this.addEvent(this.getWindow()||window,"scroll",t,!0)}function me(t){var r=t.intersectionRatio,n=t.target,o=this._players.find((function(t){return t.player.getWrapper()===n}));if(o){var i=o.player;r>.5?(this.changeVisible(i,!0),i.getMeta().showOnlyWithAdvert?o.hasRequestedAdvert||(e.Z.log("VisiblePlayerController. Adv requested"),o.hasRequestedAdvert=!0,i.initAdvert()):(e.Z.log("VisiblePlayerController. Video requested."),i.loadVideo())):this.changeVisible(i,!1)}}function _e(){var t=this;e.Z.log("VisiblePlayerController.createIntersectionObservable()");var r=new IntersectionObserver((function(e){return e.forEach(me.bind(t))}),{threshold:.5});this.subscribeTracking((function(t){var e=t.player;return r.observe(e.getWrapper())}),"Player:ready"),this._players.forEach((function(t){var e=t.player;return r.observe(e.getWrapper())}))}function be(){this.subscribeTracking((function(t){t.player.updatePlayback("videostart","click")}),"Player:ready"),this._players.forEach((function(t){t.player.updatePlayback("videostart","click")}))}function we(){var t=this.getWindow();t?ge.call(this):!t&&Ft.Hy?_e.call(this):be.call(this)}function Pe(t){var e=t.player;this._volumeOnPlayer=e===this._volumeOnPlayer?null:this._volumeOnPlayer}function Ae(t){var e=t.player;this._volumeOnPlayer=e,this._players.filter((function(t){return t.player!==e&&t.player.getVolume()>0})).forEach((function(t){t.player.setVolume(0),t.player.inStatus([et.Z.STARTED,et.Z.PLAYED,et.Z.REPLAYED])&&t.player.pause()}))}var Se=function(t){function r(e){var r=t.call(this,e)||this;return r._players=[],r.subscribeTracking(r._playerAdded.bind(r),"Player:added"),r.subscribeTracking(r._playerDestroyed.bind(r),"Player:destroyed"),r.subscribeTracking(Pe.bind(r),"Player:muted"),r.subscribeTracking(Ae.bind(r),"Player:unmuted"),r.subscribeTracking((function(t){var e=t.player;e.getMeta().showOnlyWithAdvert||e.loadVideo()}),"Player:forcePlay"),(0,a.Ym)(we.bind(r),0),r._volumeOnPlayer=null,r}return he(r,t),r.prototype.getWindow=function(){var t=this.viqeo._config,r=t.amp,n=t.standalone;if(r||n)return e.Z.log("VisiblePlayerController.getWindow(). amp: "+JSON.stringify(r)+", standalone: "+JSON.stringify(n)),window;try{if(window.top!==window){var o=window.top.document;return e.Z.log("VisiblePlayerController.getWindow(). Run in top window: "+o.location.href),window.top}return window}catch(t){return e.Z.log("VisiblePlayerController.getWindow(). CORS window.top."),null}},r.prototype._checkConfig=function(t){t.options.amp&&this.destroy()},r.prototype._playerAdded=function(t){var e=t.player;this._players.push({player:e,hasRequestedAdvert:!1})},r.prototype._playerDestroyed=function(t){var e=t.player,r=this._players.findIndex((function(t){return t.player===e}));this._players.splice(r,1),e===this._volumeOnPlayer&&(this._volumeOnPlayer=null)},r.getOuterIframe=function(){try{for(var t=window,r=window.top,n=Array.from(r.document.querySelectorAll("iframe")),o=0;o<n.length;o+=1)if(n[o].contentWindow===t)return e.Z.log("VisiblePlayerController.getOuterIframe(). Finded iframe."),n[o]}catch(t){return e.Z.log("VisiblePlayerController.getOuterIframe(). CORS iframe."),null}return e.Z.log("VisiblePlayerController.getOuterIframe(). Not founded iframe."),null},r.getIframe=function(t){try{for(var r=t.ownerDocument.defaultView||t.ownerDocument.parentWindow,n=Array.from(document.querySelectorAll("iframe")),o=0;o<n.length;o+=1)if(n[o].contentWindow===r)return e.Z.log("VisiblePlayerController.getOuterIframe(). Finded iframe."),n[o]}catch(t){e.Z.log("VisiblePlayerController.getIframe(). CORS iframe.")}return null},r.prototype.getModuleDimensions=function(t){var e=t.slot,n=window,o=t.getWrapper(),i=o||e,a=document.documentElement,s=0,c=this.getWindow()||window;c!==window?(n=c,i=r.getOuterIframe()||o||e,s=e.getBoundingClientRect().top,a=n.document.documentElement):e.ownerDocument!==window.document&&(i=r.getIframe(e),s=e.getBoundingClientRect().top);var u=n.offsetHeight||c.innerHeight,l=!Number.isNaN(n.scrollTop)&&n.scrollTop||(c.pageYOffset||a.scrollTop)-(a.clientTop||0);return{viewportHeight:u,viewportTop:l,viewportBottom:l+u,moduleTop:i.getBoundingClientRect().top+s}},r.prototype.checkVisible=function(t){var r=t.getSize().height;if(!r)return!1;var n=parseInt(r,10),o=this.getModuleDimensions(t),i=o.viewportTop,a=o.viewportBottom,s=o.moduleTop,c=Math.max(i,i+s),u=Math.min(a,c+s+n),l=Math.max(0,Math.min(n,u-c)),f=n&&l/n,p=t.inMode("visible"),d=window.innerHeight,y=r/d;if(y<=.5)f<=.9?p=!1:f>=.9&&(p=!0);else if(y>=1)f<=.5?p=!1:f>=.5&&(p=!0);else{var v=1.5-y;f<=v?p=!1:f>=v&&(p=!0)}(t.inMode("fullScreen")||t.inMode("flying")||t.inMode("overlay"))&&(p=!0),t.getVisible()!==f&&"none"!==t.getContainer().style.display&&t.changeVisiblePercent(f);var h=Math.abs(Math.abs(s)-r)>d;if(h!==t.inMode("afterScreen")&&t.changeAfterScreen(h),!t.inMode("initial")&&p||!t.inMode("initial")&&Math.abs(s)<=2*d){var g=this._players.find((function(e){return e.player===t}));t.getMeta().showOnlyWithAdvert?g.hasRequestedAdvert||(e.Z.log("VisiblePlayerController. Adv requested"),g.hasRequestedAdvert=!0,t.initAdvert()):(e.Z.log("VisiblePlayerController. Video requested."),t.loadVideo())}return p},r.getActivePlayer=function(t){var e=function(t,e){var r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)},r=[],n={x:0,y:window.innerHeight/2},o=[];t.forEach((function(t){var i=t.slot.getBoundingClientRect(),a=i.x,s=i.y,c=i.height,u=e({x:a,y:s},n);o.push(u);var l=e({x:a,y:s+c},n);o.push(l),r.push(Math.min(u,l))}));var i=r.indexOf(Math.min.apply(Math,r));return t[i]||((0,s.o_)("VisiblePlayerController.getActivePlayer("+t.length+"). "+i+". "+JSON.stringify(o)+"."),t[0])},r.prototype.changeVisible=function(t,e){t!==this._volumeOnPlayer&&t.setVisiblePercent(e)},r.prototype.updateVisible=function(){var t=this,e=[],n=this._players.find((function(t){return"smartVisible"===t.player.getPlaybackType("videostart")})),o=this._players.find((function(t){return"overlay"===t.player.getMeta().modeType}));if(o||this._players.forEach((function(r){var o=r.player,i=t.checkVisible(o),a=o.inMode("forcePause");i&&n&&!a?e.push(o):t.changeVisible(o,i)})),o)this._players.forEach((function(e){var r=e.player;t.changeVisible(r,r===o.player)}));else if(1===e.length)this.changeVisible(e[0],!0);else if(e.length>1){var i=r.getActivePlayer(e);this.changeVisible(i,!0),e.forEach((function(e){e!==i&&t.changeVisible(e,!1)}))}},r}(nt),Te=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oe=function(t){function e(e){var r=t.call(this,e)||this;return r._players=[],r._ampConfig=null,r.subscribeTracking(r._playerAdded.bind(r),"Player:added"),r.subscribeTracking((function(t){t.player.loadVideo()}),"Player:forcePlay"),r.subscribeTracking(r._checkConfig.bind(r),"ConfigUpdated"),r}return Te(e,t),e.prototype._checkConfig=function(t){var e=t.options.amp;e&&(this._ampConfig=e)},e.prototype._playerAdded=function(t){var e=t.player;this._players.push(e),this._ampConfig&&e.setVisiblePercent(1)},e}(nt),xe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ee=function(t){function e(e){var r=t.call(this,e)||this;return r._scrollTop=0,r.subscribeTracking((function(){return window.scrollTo(0,r._scrollTop)}),"Player:fullscreenEnded"),r.subscribeTracking(r._onClickedFullScreen.bind(r),"Player:requestFullscreen"),r}return xe(e,t),e.prototype._onClickedFullScreen=function(){var t=document.documentElement;this._scrollTop=(window.pageYOffset||t.scrollTop)-(t.clientTop||0)},e}(nt),Ie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ke=function(t,r){e.Z.log("KeyBoardController.seekTime("+t.getSlotId()+", "+r+")");var n=t.getCurrentTime(),o=n+r;o<0?o=.01:o>t.getDuration()&&(o=t.getDuration()),e.Z.log("KeyBoardController.seekTime(): currentTime: "+n+", duration: "+t.getDuration()+", seekTime: "+o),t.setCurrentTime(o)},qe=function(t){function r(e){var r=t.call(this,e)||this;return r._players=[],r._editorOpened=!1,r.subscribeTracking((function(t){var e=t.player;return r._players.push(e)}),"Player:added"),r.subscribeTracking((function(){r._editorOpened=!0}),"Editor:Show"),r.subscribeTracking((function(){r._editorOpened=!1}),"Editor:Hidden"),r.subscribeTracking(r._onKeyDown.bind(r),"Player:keydown"),r.addEvent(window.document,"keydown",r._onKeyDown.bind(r)),r}return Ie(r,t),r.prototype._onKeyDown=function(t){if(this._editorOpened)e.Z.log("KeyBoardController._onKeyDown(}. Block keyboard.)");else{var r=t.keyCode;this._players.filter((function(t){return t.hasVisible()})).forEach((function(t){switch(r){case 39:ke(t,10);break;case 37:ke(t,-10)}}))}},r}(nt),Ce=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function je(){this._players.forEach((function(t){return t.forceResize()}))}function Le(){var t,e,r,n,o,i=this,s=function(r){clearInterval(t),clearTimeout(e),t=null,e=null,r&&je.call(i)};this._lastEnd&&this._lastEnd(!1),this._lastEnd=s,t=(0,a.dC)((function(){window.innerWidth===r&&window.innerHeight===n?100===(o+=1)&&s(!0):(r=window.innerWidth,n=window.innerHeight,o=0)})),e=(0,a.Ym)((function(){s(!0)}),2e3)}var Ne,Me=function(t){function e(e){var r=t.call(this,e)||this,n=(0,Ot.P)(300,je.bind(r));return r._players=[],r._lastEnd=null,r.subscribeTracking((function(t){var e=t.player,n=r._players.indexOf(e);n>-1&&r._players.splice(n,1)}),"Player:destroyed"),r.subscribeTracking((function(t){var e=t.player;return r._players.push(e)}),"Player:added"),r.subscribeTracking((function(t){var e=t.gallery;return r._players.push(e)}),"Gallery:added"),r.addEvent(window,"resize",n),r.addEvent(window,"orientationchange",Le.bind(r)),r}return Ce(e,t),e}(nt),Ze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),De=function(){return De=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},De.apply(this,arguments)},Re=[15],We=function(t){function n(e){var r=t.call(this,e)||this;return r._userKey=null,r._queueEvents=[],r._data=[],r._hooks=[],r._events=[{playerName:"Player:videoStarted",hookName:"video_start"},{playerName:"Player:ended",hookName:"video_complete"},{playerName:"Player:selectAnswers",hookName:function(t){var e=t.answers,n=t.poll,o=t.player;r._send({hookName:"poll_answer",data:{poll_id:n.id,content_id:o.getSlotId(),user_id:o.getMeta().createdParams.userKey||r._userKey,answers:e.map((function(t){return t.value}))}})}}],r.subscribeTracking((function(t){var e=t.data,n=e.hooks,o=e.init.user_key;r._userKey=o,r._hooks=n,r._queueEvents.forEach((function(t){r._send(De(De({},t),{data:De(De({},t.data),{user_id:r._userKey})}))}))}),"Init:StartupDataLoaded"),r.subscribeTracking((function(t){var e=t.player;return r._data.push({player:e,currentTime:0,lastTime:0})}),"Player:added"),r.subscribeTracking(r._eventTriggered.bind(r)),(0,a.dC)(r._checkTime.bind(r),500),r}return Ze(n,t),n.prototype._send=function(t){if(!this._hooks)return this._queueEvents.push(t);var n=this._hooks.find((function(e){return e.id===t.hookName}));return n?(e.Z.log("ZapierController._send("+JSON.stringify(t)+")"),(0,r.WY)(n.url,(function(){e.Z.log("ZapierController._send("+JSON.stringify(t)+"). Success.")}),(function(){e.Z.error("ZapierController._send("+JSON.stringify(t)+"). Error.")}),!1,"POST",t.data,!1,!1)):void 0},n.prototype._eventTriggered=function(t){var e=this,r=t.eventName,n=t.player;this._events.forEach((function(o){var i=o.playerName,a=o.hookName;r===i&&("string"==typeof a?e._send({hookName:a,data:{content_id:n.getSlotId(),user_id:n.getMeta().createdParams.userKey||e._userKey}}):"function"==typeof a&&a(t))}))},n.prototype._checkTime=function(){var t=this;this._data.forEach((function(e,r){var n=e.player,o=e.currentTime,i=e.lastTime;n.inStatus([et.Z.PLAYED,et.Z.REPLAYED,et.Z.STARTED])&&(t._data[r].currentTime+=.5,Re.forEach((function(e){i<e&&o>=e&&(t._data[r].lastTime=o,t._send({hookName:"video_s_"+e,data:{content_id:n.getSlotId(),user_id:n.getMeta().createdParams.userKey||t._userKey}}))})))}))},n}(nt),Ve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ue=function(){return Ue=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ue.apply(this,arguments)},ze=[Bt,ue,de,ve,Oe,Se,Ee,qe,Me,We,function(t){function n(e){var r=t.call(this,e)||this;return r._events={},r._data=window.VIQEO_MEDIASCOPE||null,r._queueEvents=[],r._events=[{playerName:"Player:videoStarted",view:1},{playerName:"Player:ended",view:0},{playerName:"Player:videoPaused",view:3}],r.subscribeTracking(r._eventTriggered.bind(r)),r.subscribeTracking((function(t){var e=t.data.mediascope;r._data=e||r._data,r._data&&r._queueEvents.forEach((function(t){r._send(Ue(Ue({},t),e))}))}),"Init:StartupDataLoaded"),r}return Ve(n,t),n.prototype._eventTriggered=function(t){var e=this,r=t.eventName,n=t.player;this._events.forEach((function(t){var o=t.playerName,i=t.view;if(r===o){var a={typ:1,idlc:n.getMeta().videoId,urlc:encodeURI(window.location.href),type:2,view:i};e._data?e._send(a):e._queueEvents.push(a)}}))},n.prototype._send=function(t){var n=Ue(Ue({},t),this._data),o="https://tns-counter.ru/e/ec01&"+Object.keys(n).map((function(t){return t+"="+n[t]})).join("&");e.Z.log("MediascopeController. ping("+o+")"),(0,r.qE)(o)},n}(nt)],Be=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fe=function(){return Fe=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Fe.apply(this,arguments)},He=function(t){function o(r){void 0===r&&(r={});var n=t.call(this,r)||this;return e.Z.log("Init.constructor("+JSON.stringify(r)+")"),ze.forEach((function(t){return new t(n)})),n.playersManager=new tt,n._galleryLayout=new Z({viqeo:n,playersManager:n.playersManager,type:w.Z.galleryPlayer}),n._recommendationLayout=new T({viqeo:n,playersManager:n.playersManager,type:w.Z.recommendPlayer}),n._standartLayout=new b({viqeo:n,playersManager:n.playersManager,type:w.Z.stdPlayer}),n._externalLayout=new k({viqeo:n,playersManager:n.playersManager,type:w.Z.extPlayer}),n._storyPreviewsWidgetLayout=new z({viqeo:n,playersManager:n.playersManager,type:w.Z.storyPreviewsPlayer}),n._flyWidgetLayout=new H({viqeo:n,playersManager:n.playersManager,type:w.Z.flyWidget}),n._articleWdigetLayout=new K({viqeo:n,playersManager:n.playersManager,type:w.Z.articleWidget}),n._layouts=[n._standartLayout,n._recommendationLayout,n._externalLayout,n._galleryLayout,n._storyPreviewsWidgetLayout,n._flyWidgetLayout,n._articleWdigetLayout],n._layouts.forEach((function(t){return t.subscribe(n.triggerTracking.bind(n),"Tracking")})),n.playersManager.subscribe(n.triggerTracking.bind(n),"Tracking"),n}return Be(o,t),o.prototype.run=function(){e.Z.log("Init.run()"),this._layouts.forEach((function(t){return t.run()}))},o.prototype.start=function(t){e.Z.log("Init.start("+JSON.stringify(t)+")"),this._externalLayout.start(t)},o.prototype.getPlayers=function(t){void 0===t&&(t={container:[w.Z.stdPlayer,w.Z.extPlayer,w.Z.recommendPlayer]});var e=t.container,r=e;Array.isArray(e)||(r=[e]);var n=[];return this._layouts.forEach((function(t){-1!==r.indexOf(t._type)&&(n=n.concat(t.getPlayers()))})),n},o.prototype.getPlayerBy=function(t){e.Z.log("Init.getPlayers("+t+")");var r,n=this.getPlayers(),o=t;"string"==typeof t&&(o=document.querySelector(t));for(var i=0;i<n.length;i+=1){var a=(r=n[i]).getParent();if(o.contains(a))break;r=null}return r},o.prototype.setConfig=function(t){e.Z.log("Init.setConfig("+JSON.stringify(t)+")"),this._config=t,this.triggerTracking({eventName:"ConfigUpdated",options:t})},o.prototype.destroyPlayers=function(){this._layouts.forEach((function(t){return t.destroyPlayers()}))},o.prototype.resize=function(){this.getPlayers().forEach((function(t){return t.forceResize()}))},o.prototype.createPlayer=function(t,o){var i=this;e.Z.log("Init.createPlayer({\n      videoId: "+JSON.stringify(t.videoId)+",\n      videoSrc: "+JSON.stringify(t.videoSrc)+"\n    )");var a=t.uniqId?parseInt(t.uniqId,10):Date.now();return this.triggerTracking({eventName:"RequestCreatePlayer",options:t}),new Promise((function(s,c){var u,l=t.videoId,f=t.playerId,p=t.videoSrc;(o||document.body).contains(t.parent)||e.Z.log("Init.createPlayer(). Body not contains options.parent."),i.subscribeTracking((function(t){t.originalParams&&t.originalParams.uniqId===a&&s(t.player)}),"Player:added"),"string"==typeof l&&20!==l.length&&/^\d+$/.test(l)||void 0===l&&void 0===p&&void 0!==f?(0,r.WY)(n.Z.baseUrl+"/data/player/"+(l||t.playerId)+"/metadata",(function(e){var r=JSON.parse(e.responseText).items;r.subtype?"tv_widget"===r.subtype?u=i._flyWidgetLayout:"article"===r.subtype&&(u=i._articleWdigetLayout):u=i._recommendationLayout,u&&(u.createPlayer(Fe(Fe({},t),{uniqId:a})),u.run(o))})):"string"==typeof l&&20===l.length?((u=i._standartLayout).createPlayer(Fe(Fe({},t),{uniqId:a})),u.run(o)):l||p?((u=i._externalLayout).createPlayer(Fe(Fe({},t),{uniqId:a})),u.run(o)):(e.Z.log("Init.createPlayer(). Invalid params. videoId: "+l+", videoSrc: "+p+", playerId: "+f+"."),c(new Error("Invalid params. videoId: "+l+", videoSrc: "+p+", playerId: "+f+".")))}))},o}(o);Ne=[],(0,s.aP)((function(){var t=window.opera,r=navigator.userAgent,n=navigator.vendor,o=navigator.language;if(e.Z.log("Url: "+window.location.href+", UserAgent: "+(r||n||t)+", Language: "+o),window.VIQEO&&window.VIQEO.run)window.VIQEO.run();else{window.VIQEO=new He,"function"==typeof(Ne=window.onViqeoLoad||[])&&(Ne=[Ne]);var i=function(){return window.VIQEO.run()};document.body?(0,a.Ym)(i,0):(0,a.W3)(document,"DOMContentLoaded",i),Ne.forEach((function(t){return t(window.VIQEO)}))}}))}()}();
//# sourceMappingURL=vq_init.js.map